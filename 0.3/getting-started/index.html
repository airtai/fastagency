<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="The fastest way to bring multi-agent workflows to production."><meta name=author content=airt><link href=https://fastagency.ai/latest/getting-started/ rel=canonical><link href=../user-guide/ rel=next><link rel=icon href=../assets/img/favicon.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.5.40"><title>Getting Started - FastAgency</title><link rel=stylesheet href=../assets/stylesheets/main.8c3ca2c6.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../css/timeago.css><link rel=stylesheet href=../assets/_mkdocstrings.css><link rel=stylesheet href=../stylesheets/extra.914002.min.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-X9JHPKFSDN"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-X9JHPKFSDN",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-X9JHPKFSDN",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><meta property=og:type content=website><meta property=og:title content="FastAgency - Getting Started"><meta property=og:description content="The fastest way to bring multi-agent workflows to production."><meta content=https://fastagency.ai/latest/getting-started/ property=og:url><meta property=og:image content=https://fastagency.ai/latest/assets/img/FA-Main-LOGO-640x320-tinypng.png><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630><meta name=twitter:card content=summary_large_image><meta name=twitter:title content="FastAgency - Getting Started"><meta name=twitter:description content="The fastest way to bring multi-agent workflows to production."><meta name=twitter:image content=https://fastagency.ai/latest/assets/img/FA-Main-LOGO-640x320-tinypng.png><link href=../assets/stylesheets/glightbox.min.css rel=stylesheet><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style><script src=../assets/javascripts/glightbox.min.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=custom> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#getting-started-with-fastagency class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> You're not viewing the latest version. <a href=../..> <strong>Click here to go to latest.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),outdated=__md_get("__outdated",sessionStorage);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title=FastAgency class="md-header__button md-logo" aria-label=FastAgency data-md-component=logo> <img src=../assets/img/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> FastAgency </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Getting Started </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=custom aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=custom data-md-color-accent=custom aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/airtai/fastagency title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> airtai/fastagency </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class="md-tabs__item md-tabs__item--active"> <a href=./ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../user-guide/ class=md-tabs__link> User guide </a> </li> <li class=md-tabs__item> <a href=../tutorial/giphy/ class=md-tabs__link> Tutorial </a> </li> <li class=md-tabs__item> <a href=../api/fastagency/FastAgency/ class=md-tabs__link> Reference </a> </li> <li class=md-tabs__item> <a href=../contributing/ class=md-tabs__link> Contributing </a> </li> <li class=md-tabs__item> <a href=../release/ class=md-tabs__link> Release Notes </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation hidden> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title=FastAgency class="md-nav__button md-logo" aria-label=FastAgency data-md-component=logo> <img src=../assets/img/logo.svg alt=logo> </a> FastAgency </label> <div class=md-nav__source> <a href=https://github.com/airtai/fastagency title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> airtai/fastagency </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1 checked> <div class="md-nav__link md-nav__container"> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Getting Started </span> </a> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=true> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../user-guide/ class=md-nav__link> <span class=md-ellipsis> User guide </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../tutorial/giphy/ class=md-nav__link> <span class=md-ellipsis> Tutorial </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../api/fastagency/FastAgency/ class=md-nav__link> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../contributing/ class=md-nav__link> <span class=md-ellipsis> Contributing </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class=md-nav__item> <a href=../release/ class=md-nav__link> <span class=md-ellipsis> Release Notes </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#what-is-fastagency class=md-nav__link> <span class=md-ellipsis> What is FastAgency? </span> </a> <nav class=md-nav aria-label="What is FastAgency?"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#supported-runtimes class=md-nav__link> <span class=md-ellipsis> Supported Runtimes </span> </a> </li> <li class=md-nav__item> <a href=#supported-user-interfaces class=md-nav__link> <span class=md-ellipsis> Supported User Interfaces </span> </a> </li> <li class=md-nav__item> <a href=#supported-network-adapters class=md-nav__link> <span class=md-ellipsis> Supported Network Adapters </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#quick-start class=md-nav__link> <span class=md-ellipsis> Quick start </span> </a> <nav class=md-nav aria-label="Quick start"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#install class=md-nav__link> <span class=md-ellipsis> Install </span> </a> </li> <li class=md-nav__item> <a href=#start-nats-server class=md-nav__link> <span class=md-ellipsis> Start NATS Server </span> </a> </li> <li class=md-nav__item> <a href=#imports class=md-nav__link> <span class=md-ellipsis> Imports </span> </a> </li> <li class=md-nav__item> <a href=#define-workflow class=md-nav__link> <span class=md-ellipsis> Define Workflow </span> </a> </li> <li class=md-nav__item> <a href=#define-fastagency-application class=md-nav__link> <span class=md-ellipsis> Define FastAgency Application </span> </a> </li> <li class=md-nav__item> <a href=#adapter-chaining class=md-nav__link> <span class=md-ellipsis> Adapter Chaining </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#complete-application-code class=md-nav__link> <span class=md-ellipsis> Complete Application Code </span> </a> <nav class=md-nav aria-label="Complete Application Code"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#run-application class=md-nav__link> <span class=md-ellipsis> Run Application </span> </a> </li> <li class=md-nav__item> <a href=#output class=md-nav__link> <span class=md-ellipsis> Output </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#future-plans class=md-nav__link> <span class=md-ellipsis> Future Plans </span> </a> </li> <li class=md-nav__item> <a href=#stay-in-touch class=md-nav__link> <span class=md-ellipsis> Stay in touch </span> </a> </li> <li class=md-nav__item> <a href=#contributors class=md-nav__link> <span class=md-ellipsis> Contributors </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/airtai/fastagency/tree/main/docs/docs/en/getting-started/index.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m7 14.94 6.06-6.06 2.06 2.06L9.06 17H7zM12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8m4.7-10.65-1 1-2.05-2.05 1-1c.21-.22.56-.22.77 0l1.28 1.28c.22.21.22.56 0 .77M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2"/></svg> </a> <h1 id=getting-started-with-fastagency>Getting Started with FastAgency<a class=headerlink href=#getting-started-with-fastagency title="Permanent link">#</a></h1> <p><b>The fastest way to bring multi-agent workflows to production.</b></p> <hr> <p align=center> <a href=https://github.com/airtai/fastagency/actions/workflows/pipeline.yaml target=_blank> <img src="https://github.com/airtai/fastagency/actions/workflows/pipeline.yaml/badge.svg?branch=main" alt="Test Passing"> </a> <a href=https://coverage-badge.samuelcolvin.workers.dev/redirect/airtai/fastagency target=_blank> <img src=https://coverage-badge.samuelcolvin.workers.dev/airtai/fastagency.svg alt=Coverage> </a> <a href=https://www.pepy.tech/projects/fastagency target=_blank> <img src="https://static.pepy.tech/personalized-badge/fastagency?period=month&units=international_system&left_color=grey&right_color=green&left_text=downloads/month" alt=Downloads> </a> <a href=https://pypi.org/project/fastagency target=_blank> <img src="https://img.shields.io/pypi/v/fastagency?label=PyPI" alt="Package version"> </a> <a href=https://pypi.org/project/fastagency target=_blank> <img src=https://img.shields.io/pypi/pyversions/fastagency.svg alt="Supported Python versions"> </a> <br> <a href=https://github.com/airtai/fastagency/actions/workflows/codeql.yml target=_blank> <img src=https://github.com/airtai/fastagency/actions/workflows/codeql.yml/badge.svg alt=CodeQL> </a> <a href=https://github.com/airtai/fastagency/actions/workflows/dependency-review.yaml target=_blank> <img src=https://github.com/airtai/fastagency/actions/workflows/dependency-review.yaml/badge.svg alt="Dependency Review"> </a> <a href=https://github.com/airtai/fastagency/blob/main/LICENSE target=_blank> <img src=https://img.shields.io/github/license/airtai/fastagency.png alt=License> </a> <a href=https://github.com/airtai/fastagency/blob/main/CODE_OF_CONDUCT.md target=_blank> <img src=https://img.shields.io/badge/Contributor%20Covenant-2.1-4baaaa.svg alt="Code of Conduct"> </a> <a href=https://discord.gg/kJjSGWrknU target=_blank> <img alt=Discord src="https://img.shields.io/discord/1247409549158121512?logo=discord"> </a> </p> <hr> <h2 id=what-is-fastagency>What is FastAgency?<a class=headerlink href=#what-is-fastagency title="Permanent link">#</a></h2> <p>For start, FastAgency is not yet another agentic AI frameworks. There are many such frameworks available today, the most popular open-source ones being <a href=https://github.com/microsoft/autogen target=_blank><strong>AutoGen</strong></a>, <a href=https://www.crewai.com/ target=_blank><strong>CrewAI</strong></a>, <a href=https://github.com/openai/swarm target=_blank><strong>Swarm</strong></a> and <a href=https://github.com/langchain-ai/langgraph target=_blank><strong>LangGraph</strong></a>. FastAgency provides you with a unified programming interface for deploying agentic workflows written in above agentic frameworks in both development and productional settings (current version supports <a href=https://github.com/microsoft/autogen target=_blank><strong>AutoGen</strong></a> only, but other frameworks will be supported very soon). With only a few lines of code, you can create a web chat application or REST API service interacting with agents of your choice. If you need to scale-up your workloads, FastAgency can help you deploy a fully distributed system using internal message brokers coordinating multiple machines in multiple datacenters with just a few lines of code changed from your local development setup.</p> <p>In the rest of this guide, we will walk you through the initial setup and usage of FastAgency, using both development and production environments.</p> <h3 id=supported-runtimes>Supported Runtimes<a class=headerlink href=#supported-runtimes title="Permanent link">#</a></h3> <p>Currently, the only supported runtime is <a href=https://github.com/microsoft/autogen target=_blank><strong>AutoGen</strong></a>, with support for <a href=https://www.crewai.com/ target=_blank><strong>CrewAI</strong></a>, <a href=https://github.com/openai/swarm target=_blank><strong>Swarm</strong></a> and <a href=https://github.com/langchain-ai/langgraph target=_blank><strong>LangGraph</strong></a> coming soon.</p> <h3 id=supported-user-interfaces>Supported User Interfaces<a class=headerlink href=#supported-user-interfaces title="Permanent link">#</a></h3> <p>FastAgency currently supports workflows defined using AutoGen and provides options for different types of applications:</p> <ul> <li> <p><strong>Console</strong>: Use the <a href=../api/fastagency/ui/console/ConsoleUI/ ><strong><code>ConsoleUI</code></strong></a> interface for command-line based interaction. This is ideal for developing and testing workflows in a text-based environment.</p> </li> <li> <p><a href=https://google.github.io/mesop/ target=_blank><strong>Mesop</strong></a>: Utilize <a href=../api/fastagency/ui/mesop/MesopUI/ ><strong><code>MesopUI</code></strong></a> for web-based applications. This interface is suitable for creating web applications with a user-friendly interface.</p> </li> </ul> <h3 id=supported-network-adapters>Supported Network Adapters<a class=headerlink href=#supported-network-adapters title="Permanent link">#</a></h3> <p>FastAgency can use chainable network adapters that can be used to easily create scalable, production ready architectures for serving your workflows. Currently, we support the following network adapters:</p> <ul> <li> <p><a href=https://en.wikipedia.org/wiki/REST target=_blank><strong>REST API</strong></a> via <a href=https://fastapi.tiangolo.com/ target=_blank><strong>FastAPI</strong></a>: Use the <a href=../api/fastagency/adapters/fastapi/FastAPIAdapter/ ><strong><code>FastAPIAdapter</code></strong></a> to serve your workflow using <a href=https://fastapi.tiangolo.com/ target=_blank><strong>FastAPI</strong></a> server. This setup allows you to work your workflows in multiple workers and serve them using the highly extensible and stable ASGI server.</p> </li> <li> <p><a href=https://nats.io/ target=_blank><strong>NATS.io</strong></a> via <a href=https://github.com/airtai/faststream target=_blank><strong>FastStream</strong></a>: Utilize the <a href=../api/fastagency/adapters/nats/NatsAdapter/ ><strong><code>NatsAdapter</code></strong></a> to use <a href=https://nats.io/ target=_blank><strong>NATS.io MQ</strong></a> message broker for highly-scalable, production-ready setup. This interface is suitable for setups in VPN-s or, in combination with the <a href=../api/fastagency/adapters/fastapi/FastAPIAdapter/ ><strong><code>FastAPIAdapter</code></strong></a> to serve public workflows in an authenticated, secure manner.</p> </li> </ul> <h2 id=quick-start>Quick start<a class=headerlink href=#quick-start title="Permanent link">#</a></h2> <p>We will show you four different setups, two for development and two for production workloads:</p> <ul> <li> <p>Development setups</p> <ul> <li> <p><strong>Console</strong>: This setup uses console for interactively executing your workflow. It is also very useful for automating testing and integration with CI/CD.</p> </li> <li> <p><strong>Mesop</strong>: This setup uses <a href=https://google.github.io/mesop/ target=_blank><strong>Mesop</strong></a> to build a web application for interacting with our workflow. It supports a single-worker deployments only, limiting its scalability. However, it is the fastest way to debug your application.</p> </li> </ul> </li> <li> <p>Production setups</p> <ul> <li> <p><strong>FastAPI + Mesop</strong>: This is fairly scalable setup using <a href=https://fastapi.tiangolo.com/ target=_blank><strong>FastAPI</strong></a> to execute your workflows and <a href=https://google.github.io/mesop/ target=_blank><strong>Mesop</strong></a> for interactive web application. <a href=https://fastapi.tiangolo.com/ target=_blank><strong>FastAPI</strong></a> supports execution with multiple workers, with each workflow being executed in the context of a WebSocket connection. <a href=https://google.github.io/mesop/ target=_blank><strong>Mesop</strong></a> is still limited to a single worker, although there is much less load of it due to workflows being executed in the <a href=https://fastapi.tiangolo.com/ target=_blank><strong>FastAPI</strong></a> workers.</p> </li> <li> <p><strong>NATS + FastAPI + Mesop</strong>: This is the most scalable setup using a distributed message broker <a href=https://nats.io/ target=_blank><strong>NATS.io MQ</strong></a>. Workflows are being executed with multiple workers that attach to the MQ waiting for initiate workflow messages. Such workers can be running on different machines or even different data centers/cloud providers. Message queues are highly scalable, but more difficult to integrate with end-clients. In order to make such integrations easier, we will connect our <a href=https://nats.io/ target=_blank><strong>NATS</strong></a>-based message queue with the <a href=https://fastapi.tiangolo.com/ target=_blank><strong>FastAPI</strong></a> application.</p> </li> </ul> </li> </ul> <h3 id=install>Install<a class=headerlink href=#install title="Permanent link">#</a></h3> <p>To get started, you need to install FastAgency. You can do this using <code>pip</code>, Python's package installer. Choose the installation command based on the interface you want to use:</p> <div class="tabbed-set tabbed-alternate" data-tabs=1:4><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><input id=__tabbed_1_3 name=__tabbed_1 type=radio><input id=__tabbed_1_4 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>Console</label><label for=__tabbed_1_2>Mesop</label><label for=__tabbed_1_3>FastAPI + Mesop</label><label for=__tabbed_1_4>NATS + FastAPI + Mesop</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=go>pip install &quot;fastagency[autogen]&quot;</span>
</code></pre></div> <p>This command installs FastAgency with support for the Console interface and AutoGen framework.</p> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=go>pip install &quot;fastagency[autogen,mesop]&quot;</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=go>pip install &quot;fastagency[autogen,mesop,fastapi]&quot;</span>
</code></pre></div> <p>This command installs FastAgency with support for both the Console and Mesop interfaces for AutoGen workflows, but with FastAPI both serving input requests and running workflows.</p> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=go>pip install &quot;fastagency[autogen,mesop,fastapi,nats]&quot;</span>
</code></pre></div> <p>This command installs FastAgency with support for both the Console and Mesop interfaces for AutoGen workflows, but with FastAPI serving input requests and independent workers communicating over NATS.io protocol running workflows. This is the most scable setup and preferred way of running large workloads in production.</p> </div> </div> </div> <div class="admonition note"> <p class=admonition-title>Using older AutoGen version 0.2.x</p> <p>In case you want to use an older version of AutoGen (<code>pyautogen</code> instead of <code>autogen</code> package ), please use the following pip command:</p> <div class="tabbed-set tabbed-alternate" data-tabs=2:4><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><input id=__tabbed_2_2 name=__tabbed_2 type=radio><input id=__tabbed_2_3 name=__tabbed_2 type=radio><input id=__tabbed_2_4 name=__tabbed_2 type=radio><div class=tabbed-labels><label for=__tabbed_2_1>Console</label><label for=__tabbed_2_2>Mesop</label><label for=__tabbed_2_3>FastAPI + Mesop</label><label for=__tabbed_2_4>NATS + FastAPI + Mesop</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=go>pip install &quot;fastagency[pyautogen]&quot;</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=go>pip install &quot;fastagency[pyautogen,mesop]&quot;</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=go>pip install &quot;fastagency[pyautogen,mesop,fastapi]&quot;</span>
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=go>pip install &quot;fastagency[pyautogen,mesop,fastapi,nats]&quot;</span>
</code></pre></div> </div> </div> </div> </div> <h3 id=start-nats-server>Start NATS Server<a class=headerlink href=#start-nats-server title="Permanent link">#</a></h3> <div class="admonition note"> <p class=admonition-title>This step applies only to NATS-based examples</p> </div> <p>The easiest way to start <a href=https://nats.io/ target=_blank>NATS</a> is by using <a href=https://www.docker.com/ target=_blank>Docker</a>. FastAgency uses the <a href=https://docs.nats.io/nats-concepts/jetstream target=_blank>JetStream</a> feature of NATS and also utilizes authentication with NATS. Both of these can be specified in the NATS configuration. Save the following configuration in a file called <code>nats-server.conf</code>.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a>port: 4222
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>monitor_port: 8222
<a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>
<a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a>websocket {
<a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a>    port: 9222
<a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a>    no_tls: true
<a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a>    compress: true
<a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a>}
<a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a>
<a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a>jetstream {}
<a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a>
<a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a>accounts {
<a id=__codelineno-8-14 name=__codelineno-8-14 href=#__codelineno-8-14></a>  AUTH {
<a id=__codelineno-8-15 name=__codelineno-8-15 href=#__codelineno-8-15></a>    jetstream: enabled
<a id=__codelineno-8-16 name=__codelineno-8-16 href=#__codelineno-8-16></a>    users: [
<a id=__codelineno-8-17 name=__codelineno-8-17 href=#__codelineno-8-17></a>      { user: fastagency, password: $FASTAGENCY_NATS_PASSWORD }
<a id=__codelineno-8-18 name=__codelineno-8-18 href=#__codelineno-8-18></a>    ]
<a id=__codelineno-8-19 name=__codelineno-8-19 href=#__codelineno-8-19></a>  }
<a id=__codelineno-8-20 name=__codelineno-8-20 href=#__codelineno-8-20></a>  SYS {}
<a id=__codelineno-8-21 name=__codelineno-8-21 href=#__codelineno-8-21></a>}
<a id=__codelineno-8-22 name=__codelineno-8-22 href=#__codelineno-8-22></a>
<a id=__codelineno-8-23 name=__codelineno-8-23 href=#__codelineno-8-23></a>system_account: SYS
</code></pre></div> <p>In the above configuration, we define a user called <code>fastagency</code>, and its password is read from the environment variable <code>FASTAGENCY_NATS_PASSWORD</code>. . We also enable JetStream in NATS and configure NATS to serve via WebSockets on port <code>9222</code>.</p> <p>Start the NATS Docker container with the following command: <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=go>docker run -d --name nats-fastagency --rm -p 4222:4222 -p 9222:9222 -p 8222:8222 -v $(pwd)/nats-server.conf:/etc/nats/nats-server.conf -e FASTAGENCY_NATS_PASSWORD=&#39;fastagency_nats_password&#39; nats:latest -c /etc/nats/nats-server.conf</span>
</code></pre></div> Running this command should start NATS in a Docker container and expose the necessary ports for connection.</p> <h3 id=imports>Imports<a class=headerlink href=#imports title="Permanent link">#</a></h3> <p>Depending on the interface you choose, you'll need to import different modules. These imports set up the necessary components for your application:</p> <div class="tabbed-set tabbed-alternate" data-tabs=3:4><input checked=checked id=__tabbed_3_1 name=__tabbed_3 type=radio><input id=__tabbed_3_2 name=__tabbed_3 type=radio><input id=__tabbed_3_3 name=__tabbed_3 type=radio><input id=__tabbed_3_4 name=__tabbed_3 type=radio><div class=tabbed-labels><label for=__tabbed_3_1>Console</label><label for=__tabbed_3_2>Mesop</label><label for=__tabbed_3_3>FastAPI + Mesop</label><label for=__tabbed_3_4>NATS + FastAPI + Mesop</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=kn>import</span> <span class=nn>os</span>
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Any</span>
<a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>
<a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a><span class=kn>from</span> <span class=nn>autogen.agentchat</span> <span class=kn>import</span> <span class=n>ConversableAgent</span>
<a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a>
<a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a><span class=kn>from</span> <span class=nn>fastagency</span> <span class=kn>import</span> <span class=n>UI</span><span class=p>,</span> <span class=n>FastAgency</span>
<a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a><span class=kn>from</span> <span class=nn>fastagency.runtimes.autogen</span> <span class=kn>import</span> <span class=n>AutoGenWorkflows</span>
<a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a><span class=hll><span class=kn>from</span> <span class=nn>fastagency.ui.console</span> <span class=kn>import</span> <span class=n>ConsoleUI</span>
</span></code></pre></div> <p>For Console applications, import <code>ConsoleUI</code> to handle command-line input and output.</p> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=kn>import</span> <span class=nn>os</span>
<a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Any</span>
<a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>
<a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a><span class=kn>from</span> <span class=nn>autogen.agentchat</span> <span class=kn>import</span> <span class=n>ConversableAgent</span>
<a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a>
<a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a><span class=kn>from</span> <span class=nn>fastagency</span> <span class=kn>import</span> <span class=n>UI</span><span class=p>,</span> <span class=n>FastAgency</span>
<a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a><span class=kn>from</span> <span class=nn>fastagency.runtimes.autogen</span> <span class=kn>import</span> <span class=n>AutoGenWorkflows</span>
<a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a><span class=hll><span class=kn>from</span> <span class=nn>fastagency.ui.mesop</span> <span class=kn>import</span> <span class=n>MesopUI</span>
</span></code></pre></div> <p>For Mesop applications, import <code>MesopUI</code> to integrate with the Mesop web interface.</p> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=kn>import</span> <span class=nn>os</span>
<a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Any</span>
<a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a>
<a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a><span class=kn>from</span> <span class=nn>autogen.agentchat</span> <span class=kn>import</span> <span class=n>ConversableAgent</span>
<a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a><span class=kn>from</span> <span class=nn>fastapi</span> <span class=kn>import</span> <span class=n>FastAPI</span>
<a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a>
<a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a><span class=kn>from</span> <span class=nn>fastagency</span> <span class=kn>import</span> <span class=n>UI</span>
<a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a><span class=hll><span class=kn>from</span> <span class=nn>fastagency.adapters.fastapi</span> <span class=kn>import</span> <span class=n>FastAPIAdapter</span>
</span><a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a><span class=kn>from</span> <span class=nn>fastagency.runtimes.autogen</span> <span class=kn>import</span> <span class=n>AutoGenWorkflows</span>
</code></pre></div> <p>For FastAPI applications, import <code>FastAPIAdapter</code> to expose your workflows as REST API.</p> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=kn>import</span> <span class=nn>os</span>
<a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Any</span>
<a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a>
<a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a><span class=kn>from</span> <span class=nn>autogen.agentchat</span> <span class=kn>import</span> <span class=n>ConversableAgent</span>
<a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a><span class=kn>from</span> <span class=nn>fastapi</span> <span class=kn>import</span> <span class=n>FastAPI</span>
<a id=__codelineno-13-6 name=__codelineno-13-6 href=#__codelineno-13-6></a>
<a id=__codelineno-13-7 name=__codelineno-13-7 href=#__codelineno-13-7></a><span class=kn>from</span> <span class=nn>fastagency</span> <span class=kn>import</span> <span class=n>UI</span>
<a id=__codelineno-13-8 name=__codelineno-13-8 href=#__codelineno-13-8></a><span class=hll><span class=kn>from</span> <span class=nn>fastagency.adapters.nats</span> <span class=kn>import</span> <span class=n>NatsAdapter</span>
</span><a id=__codelineno-13-9 name=__codelineno-13-9 href=#__codelineno-13-9></a><span class=kn>from</span> <span class=nn>fastagency.runtimes.autogen.autogen</span> <span class=kn>import</span> <span class=n>AutoGenWorkflows</span>
</code></pre></div> </div> </div> </div> <h3 id=define-workflow>Define Workflow<a class=headerlink href=#define-workflow title="Permanent link">#</a></h3> <p>You need to define the workflow that your application will use. This is where you specify how the agents interact and what they do. Here's a simple example of a workflow definition:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a><span class=n>llm_config</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a>    <span class=s2>&quot;config_list&quot;</span><span class=p>:</span> <span class=p>[</span>
<a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a>        <span class=p>{</span>
<a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a>            <span class=s2>&quot;model&quot;</span><span class=p>:</span> <span class=s2>&quot;gpt-4o-mini&quot;</span><span class=p>,</span>
<a id=__codelineno-14-5 name=__codelineno-14-5 href=#__codelineno-14-5></a>            <span class=s2>&quot;api_key&quot;</span><span class=p>:</span> <span class=n>os</span><span class=o>.</span><span class=n>getenv</span><span class=p>(</span><span class=s2>&quot;OPENAI_API_KEY&quot;</span><span class=p>),</span>
<a id=__codelineno-14-6 name=__codelineno-14-6 href=#__codelineno-14-6></a>        <span class=p>}</span>
<a id=__codelineno-14-7 name=__codelineno-14-7 href=#__codelineno-14-7></a>    <span class=p>],</span>
<a id=__codelineno-14-8 name=__codelineno-14-8 href=#__codelineno-14-8></a>    <span class=s2>&quot;temperature&quot;</span><span class=p>:</span> <span class=mf>0.8</span><span class=p>,</span>
<a id=__codelineno-14-9 name=__codelineno-14-9 href=#__codelineno-14-9></a><span class=p>}</span>
<a id=__codelineno-14-10 name=__codelineno-14-10 href=#__codelineno-14-10></a>
<a id=__codelineno-14-11 name=__codelineno-14-11 href=#__codelineno-14-11></a><span class=n>wf</span> <span class=o>=</span> <span class=n>AutoGenWorkflows</span><span class=p>()</span>
<a id=__codelineno-14-12 name=__codelineno-14-12 href=#__codelineno-14-12></a>
<a id=__codelineno-14-13 name=__codelineno-14-13 href=#__codelineno-14-13></a>
<a id=__codelineno-14-14 name=__codelineno-14-14 href=#__codelineno-14-14></a><span class=nd>@wf</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&quot;simple_learning&quot;</span><span class=p>,</span> <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Student and teacher learning chat&quot;</span><span class=p>)</span>
<a id=__codelineno-14-15 name=__codelineno-14-15 href=#__codelineno-14-15></a><span class=k>def</span> <span class=nf>simple_workflow</span><span class=p>(</span>
<a id=__codelineno-14-16 name=__codelineno-14-16 href=#__codelineno-14-16></a>    <span class=n>ui</span><span class=p>:</span> <span class=n>UI</span><span class=p>,</span> <span class=n>params</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]</span>
<a id=__codelineno-14-17 name=__codelineno-14-17 href=#__codelineno-14-17></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<a id=__codelineno-14-18 name=__codelineno-14-18 href=#__codelineno-14-18></a>    <span class=n>initial_message</span> <span class=o>=</span> <span class=n>ui</span><span class=o>.</span><span class=n>text_input</span><span class=p>(</span>
<a id=__codelineno-14-19 name=__codelineno-14-19 href=#__codelineno-14-19></a>        <span class=n>sender</span><span class=o>=</span><span class=s2>&quot;Workflow&quot;</span><span class=p>,</span>
<a id=__codelineno-14-20 name=__codelineno-14-20 href=#__codelineno-14-20></a>        <span class=n>recipient</span><span class=o>=</span><span class=s2>&quot;User&quot;</span><span class=p>,</span>
<a id=__codelineno-14-21 name=__codelineno-14-21 href=#__codelineno-14-21></a>        <span class=n>prompt</span><span class=o>=</span><span class=s2>&quot;I can help you learn about mathematics. What subject you would like to explore?&quot;</span><span class=p>,</span>
<a id=__codelineno-14-22 name=__codelineno-14-22 href=#__codelineno-14-22></a>    <span class=p>)</span>
<a id=__codelineno-14-23 name=__codelineno-14-23 href=#__codelineno-14-23></a>
<a id=__codelineno-14-24 name=__codelineno-14-24 href=#__codelineno-14-24></a>    <span class=n>student_agent</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-14-25 name=__codelineno-14-25 href=#__codelineno-14-25></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;Student_Agent&quot;</span><span class=p>,</span>
<a id=__codelineno-14-26 name=__codelineno-14-26 href=#__codelineno-14-26></a>        <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;You are a student willing to learn.&quot;</span><span class=p>,</span>
<a id=__codelineno-14-27 name=__codelineno-14-27 href=#__codelineno-14-27></a>        <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span><span class=p>,</span>
<a id=__codelineno-14-28 name=__codelineno-14-28 href=#__codelineno-14-28></a>    <span class=p>)</span>
<a id=__codelineno-14-29 name=__codelineno-14-29 href=#__codelineno-14-29></a>    <span class=n>teacher_agent</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-14-30 name=__codelineno-14-30 href=#__codelineno-14-30></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;Teacher_Agent&quot;</span><span class=p>,</span>
<a id=__codelineno-14-31 name=__codelineno-14-31 href=#__codelineno-14-31></a>        <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;You are a math teacher.&quot;</span><span class=p>,</span>
<a id=__codelineno-14-32 name=__codelineno-14-32 href=#__codelineno-14-32></a>        <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span><span class=p>,</span>
<a id=__codelineno-14-33 name=__codelineno-14-33 href=#__codelineno-14-33></a>    <span class=p>)</span>
<a id=__codelineno-14-34 name=__codelineno-14-34 href=#__codelineno-14-34></a>
<a id=__codelineno-14-35 name=__codelineno-14-35 href=#__codelineno-14-35></a>    <span class=n>chat_result</span> <span class=o>=</span> <span class=n>student_agent</span><span class=o>.</span><span class=n>initiate_chat</span><span class=p>(</span>
<a id=__codelineno-14-36 name=__codelineno-14-36 href=#__codelineno-14-36></a>        <span class=n>teacher_agent</span><span class=p>,</span>
<a id=__codelineno-14-37 name=__codelineno-14-37 href=#__codelineno-14-37></a>        <span class=n>message</span><span class=o>=</span><span class=n>initial_message</span><span class=p>,</span>
<a id=__codelineno-14-38 name=__codelineno-14-38 href=#__codelineno-14-38></a>        <span class=n>summary_method</span><span class=o>=</span><span class=s2>&quot;reflection_with_llm&quot;</span><span class=p>,</span>
<a id=__codelineno-14-39 name=__codelineno-14-39 href=#__codelineno-14-39></a>        <span class=n>max_turns</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span>
<a id=__codelineno-14-40 name=__codelineno-14-40 href=#__codelineno-14-40></a>    <span class=p>)</span>
<a id=__codelineno-14-41 name=__codelineno-14-41 href=#__codelineno-14-41></a>
<a id=__codelineno-14-42 name=__codelineno-14-42 href=#__codelineno-14-42></a>    <span class=k>return</span> <span class=n>chat_result</span><span class=o>.</span><span class=n>summary</span>  <span class=c1># type: ignore[no-any-return]</span>
</code></pre></div> <p>This code snippet sets up a simple learning chat between a student and a teacher. You define the agents and how they should interact, specifying how the conversation should be summarized.</p> <h3 id=define-fastagency-application>Define FastAgency Application<a class=headerlink href=#define-fastagency-application title="Permanent link">#</a></h3> <div class="tabbed-set tabbed-alternate" data-tabs=4:4><input checked=checked id=__tabbed_4_1 name=__tabbed_4 type=radio><input id=__tabbed_4_2 name=__tabbed_4 type=radio><input id=__tabbed_4_3 name=__tabbed_4 type=radio><input id=__tabbed_4_4 name=__tabbed_4 type=radio><div class=tabbed-labels><label for=__tabbed_4_1>Console</label><label for=__tabbed_4_2>Mesop</label><label for=__tabbed_4_3>FastAPI + Mesop</label><label for=__tabbed_4_4>NATS + FastAPI + Mesop</label></div> <div class=tabbed-content> <div class=tabbed-block> <p>Next, define your FastAgency application. This ties together your workflow and the interface you chose:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a><span class=hll><span class=n>app</span> <span class=o>=</span> <span class=n>FastAgency</span><span class=p>(</span><span class=n>provider</span><span class=o>=</span><span class=n>wf</span><span class=p>,</span> <span class=n>ui</span><span class=o>=</span><span class=n>ConsoleUI</span><span class=p>(),</span> <span class=n>title</span><span class=o>=</span><span class=s2>&quot;Learning Chat&quot;</span><span class=p>)</span>
</span></code></pre></div> <p>For Console applications, use <code>ConsoleUI</code> to handle user interaction via the command line.</p> </div> <div class=tabbed-block> <p>Next, define your FastAgency application. This ties together your workflow and the interface you chose:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a><span class=hll><span class=n>app</span> <span class=o>=</span> <span class=n>FastAgency</span><span class=p>(</span><span class=n>provider</span><span class=o>=</span><span class=n>wf</span><span class=p>,</span> <span class=n>ui</span><span class=o>=</span><span class=n>MesopUI</span><span class=p>(),</span> <span class=n>title</span><span class=o>=</span><span class=s2>&quot;Learning Chat&quot;</span><span class=p>)</span>
</span></code></pre></div> <p>For Mesop applications, use <code>MesopUI</code> to enable web-based interactions.</p> </div> <div class=tabbed-block> <p>In the case of FastAPI application, we will create an <code>FastAPIAdapter</code> and then include a router to the <code>FastAPI</code> application. The adapter will have all REST and Websocket routes for communicating with a client.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a><span class=hll><span class=n>adapter</span> <span class=o>=</span> <span class=n>FastAPIAdapter</span><span class=p>(</span><span class=n>provider</span><span class=o>=</span><span class=n>wf</span><span class=p>)</span>
</span><a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a>
<a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a><span class=n>app</span> <span class=o>=</span> <span class=n>FastAPI</span><span class=p>()</span>
<a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a><span class=hll><span class=n>app</span><span class=o>.</span><span class=n>include_router</span><span class=p>(</span><span class=n>adapter</span><span class=o>.</span><span class=n>router</span><span class=p>)</span>
</span></code></pre></div> </div> <div class=tabbed-block> <p>In the case of NATS.io application, we will create an <code>NatsAdapter</code> and then add it to a <code>FastAPI</code> application using the <code>lifespan</code> parameter. The adapter will have all REST and Websocket routes for communicating with a client.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a><span class=n>nats_url</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;NATS_URL&quot;</span><span class=p>,</span> <span class=s2>&quot;nats://localhost:4222&quot;</span><span class=p>)</span>
<a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a><span class=n>user</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;fastagency&quot;</span>
<a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a><span class=n>password</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;FASTAGENCY_NATS_PASSWORD&quot;</span><span class=p>)</span>  <span class=c1># type: ignore[assignment]</span>
<a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a>
<a id=__codelineno-18-5 name=__codelineno-18-5 href=#__codelineno-18-5></a><span class=hll><span class=n>adapter</span> <span class=o>=</span> <span class=n>NatsAdapter</span><span class=p>(</span><span class=n>provider</span><span class=o>=</span><span class=n>wf</span><span class=p>,</span> <span class=n>nats_url</span><span class=o>=</span><span class=n>nats_url</span><span class=p>,</span> <span class=n>user</span><span class=o>=</span><span class=n>user</span><span class=p>,</span> <span class=n>password</span><span class=o>=</span><span class=n>password</span><span class=p>)</span>
</span><a id=__codelineno-18-6 name=__codelineno-18-6 href=#__codelineno-18-6></a>
<a id=__codelineno-18-7 name=__codelineno-18-7 href=#__codelineno-18-7></a><span class=hll><span class=n>app</span> <span class=o>=</span> <span class=n>FastAPI</span><span class=p>(</span><span class=n>lifespan</span><span class=o>=</span><span class=n>adapter</span><span class=o>.</span><span class=n>lifespan</span><span class=p>)</span>
</span></code></pre></div> </div> </div> </div> <h3 id=adapter-chaining>Adapter Chaining<a class=headerlink href=#adapter-chaining title="Permanent link">#</a></h3> <div class="tabbed-set tabbed-alternate" data-tabs=5:4><input checked=checked id=__tabbed_5_1 name=__tabbed_5 type=radio><input id=__tabbed_5_2 name=__tabbed_5 type=radio><input id=__tabbed_5_3 name=__tabbed_5 type=radio><input id=__tabbed_5_4 name=__tabbed_5 type=radio><div class=tabbed-labels><label for=__tabbed_5_1>Console</label><label for=__tabbed_5_2>Mesop</label><label for=__tabbed_5_3>FastAPI + Mesop</label><label for=__tabbed_5_4>NATS + FastAPI + Mesop</label></div> <div class=tabbed-content> <div class=tabbed-block> <p>Not applicable for this setup as there are no adapters used.</p> </div> <div class=tabbed-block> <p>Not applicable for this setup as there are no adapters used.</p> </div> <div class=tabbed-block> <p>There is an additional specification file for an application using <code>MesopUI</code> to connect to the <code>FastAPIAdapter</code></p> <div class="admonition note"> <p class=admonition-title>main_2_mesop.py</p> <div class=highlight><pre><span></span><code><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a><span class=kn>from</span> <span class=nn>fastagency.adapters.fastapi</span> <span class=kn>import</span> <span class=n>FastAPIAdapter</span>
<a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a><span class=kn>from</span> <span class=nn>fastagency.app</span> <span class=kn>import</span> <span class=n>FastAgency</span>
<a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a><span class=kn>from</span> <span class=nn>fastagency.ui.mesop</span> <span class=kn>import</span> <span class=n>MesopUI</span>
<a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a>
<a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a><span class=n>fastapi_url</span> <span class=o>=</span> <span class=s2>&quot;http://localhost:8008&quot;</span>
<a id=__codelineno-19-6 name=__codelineno-19-6 href=#__codelineno-19-6></a>
<a id=__codelineno-19-7 name=__codelineno-19-7 href=#__codelineno-19-7></a><span class=hll><span class=n>provider</span> <span class=o>=</span> <span class=n>FastAPIAdapter</span><span class=o>.</span><span class=n>create_provider</span><span class=p>(</span>
</span><a id=__codelineno-19-8 name=__codelineno-19-8 href=#__codelineno-19-8></a><span class=hll>    <span class=n>fastapi_url</span><span class=o>=</span><span class=n>fastapi_url</span><span class=p>,</span>
</span><a id=__codelineno-19-9 name=__codelineno-19-9 href=#__codelineno-19-9></a><span class=hll><span class=p>)</span>
</span><a id=__codelineno-19-10 name=__codelineno-19-10 href=#__codelineno-19-10></a>
<a id=__codelineno-19-11 name=__codelineno-19-11 href=#__codelineno-19-11></a><span class=hll><span class=n>app</span> <span class=o>=</span> <span class=n>FastAgency</span><span class=p>(</span><span class=n>provider</span><span class=o>=</span><span class=n>provider</span><span class=p>,</span> <span class=n>ui</span><span class=o>=</span><span class=n>MesopUI</span><span class=p>())</span>
</span></code></pre></div> </div> </div> <div class=tabbed-block> <p>Above, we created NATS.io provider that will start brokers waiting to consume initiate workflow messages from the message broker. Now, we create FastAPI service interacting with NATS.io provider:</p> <div class="admonition note"> <p class=admonition-title>main_2_fastapi.py</p> <div class=highlight><pre><span></span><code><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a><span class=kn>from</span> <span class=nn>os</span> <span class=kn>import</span> <span class=n>environ</span>
<a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a>
<a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a><span class=kn>from</span> <span class=nn>fastapi</span> <span class=kn>import</span> <span class=n>FastAPI</span>
<a id=__codelineno-20-4 name=__codelineno-20-4 href=#__codelineno-20-4></a>
<a id=__codelineno-20-5 name=__codelineno-20-5 href=#__codelineno-20-5></a><span class=kn>from</span> <span class=nn>fastagency.adapters.fastapi</span> <span class=kn>import</span> <span class=n>FastAPIAdapter</span>
<a id=__codelineno-20-6 name=__codelineno-20-6 href=#__codelineno-20-6></a><span class=kn>from</span> <span class=nn>fastagency.adapters.nats</span> <span class=kn>import</span> <span class=n>NatsAdapter</span>
<a id=__codelineno-20-7 name=__codelineno-20-7 href=#__codelineno-20-7></a>
<a id=__codelineno-20-8 name=__codelineno-20-8 href=#__codelineno-20-8></a><span class=n>nats_url</span> <span class=o>=</span> <span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;NATS_URL&quot;</span><span class=p>,</span> <span class=s2>&quot;nats://localhost:4222&quot;</span><span class=p>)</span>
<a id=__codelineno-20-9 name=__codelineno-20-9 href=#__codelineno-20-9></a><span class=n>nats_user</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;fastagency&quot;</span>
<a id=__codelineno-20-10 name=__codelineno-20-10 href=#__codelineno-20-10></a><span class=n>nats_password</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;FASTAGENCY_NATS_PASSWORD&quot;</span><span class=p>)</span>  <span class=c1># type: ignore[assignment]</span>
<a id=__codelineno-20-11 name=__codelineno-20-11 href=#__codelineno-20-11></a>
<a id=__codelineno-20-12 name=__codelineno-20-12 href=#__codelineno-20-12></a><span class=n>provider</span> <span class=o>=</span> <span class=n>NatsAdapter</span><span class=o>.</span><span class=n>create_provider</span><span class=p>(</span>
<a id=__codelineno-20-13 name=__codelineno-20-13 href=#__codelineno-20-13></a>    <span class=n>nats_url</span><span class=o>=</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;NATS_URL&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>),</span> <span class=n>user</span><span class=o>=</span><span class=n>nats_user</span><span class=p>,</span> <span class=n>password</span><span class=o>=</span><span class=n>nats_password</span>
<a id=__codelineno-20-14 name=__codelineno-20-14 href=#__codelineno-20-14></a><span class=p>)</span>
<a id=__codelineno-20-15 name=__codelineno-20-15 href=#__codelineno-20-15></a>
<a id=__codelineno-20-16 name=__codelineno-20-16 href=#__codelineno-20-16></a><span class=hll><span class=n>adapter</span> <span class=o>=</span> <span class=n>FastAPIAdapter</span><span class=p>(</span>
</span><a id=__codelineno-20-17 name=__codelineno-20-17 href=#__codelineno-20-17></a><span class=hll>    <span class=n>provider</span><span class=o>=</span><span class=n>provider</span><span class=p>,</span>
</span><a id=__codelineno-20-18 name=__codelineno-20-18 href=#__codelineno-20-18></a><span class=hll><span class=p>)</span>
</span><a id=__codelineno-20-19 name=__codelineno-20-19 href=#__codelineno-20-19></a>
<a id=__codelineno-20-20 name=__codelineno-20-20 href=#__codelineno-20-20></a><span class=c1># app = FastAPI(lifespan=provider.lifespan)</span>
<a id=__codelineno-20-21 name=__codelineno-20-21 href=#__codelineno-20-21></a><span class=hll><span class=n>app</span> <span class=o>=</span> <span class=n>FastAPI</span><span class=p>()</span>
</span><a id=__codelineno-20-22 name=__codelineno-20-22 href=#__codelineno-20-22></a><span class=hll><span class=n>app</span><span class=o>.</span><span class=n>include_router</span><span class=p>(</span><span class=n>adapter</span><span class=o>.</span><span class=n>router</span><span class=p>)</span>
</span></code></pre></div> </div> <p>Finally, we create Mesop app communicating with the FastAPI application:</p> <div class="admonition note"> <p class=admonition-title>main_3_mesop.py</p> <div class=highlight><pre><span></span><code><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a><span class=kn>from</span> <span class=nn>fastagency.adapters.fastapi</span> <span class=kn>import</span> <span class=n>FastAPIAdapter</span>
<a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a><span class=kn>from</span> <span class=nn>fastagency.app</span> <span class=kn>import</span> <span class=n>FastAgency</span>
<a id=__codelineno-21-3 name=__codelineno-21-3 href=#__codelineno-21-3></a><span class=kn>from</span> <span class=nn>fastagency.ui.mesop</span> <span class=kn>import</span> <span class=n>MesopUI</span>
<a id=__codelineno-21-4 name=__codelineno-21-4 href=#__codelineno-21-4></a>
<a id=__codelineno-21-5 name=__codelineno-21-5 href=#__codelineno-21-5></a><span class=n>fastapi_url</span> <span class=o>=</span> <span class=s2>&quot;http://localhost:8008&quot;</span>
<a id=__codelineno-21-6 name=__codelineno-21-6 href=#__codelineno-21-6></a>
<a id=__codelineno-21-7 name=__codelineno-21-7 href=#__codelineno-21-7></a><span class=hll><span class=n>provider</span> <span class=o>=</span> <span class=n>FastAPIAdapter</span><span class=o>.</span><span class=n>create_provider</span><span class=p>(</span>
</span><a id=__codelineno-21-8 name=__codelineno-21-8 href=#__codelineno-21-8></a><span class=hll>    <span class=n>fastapi_url</span><span class=o>=</span><span class=n>fastapi_url</span><span class=p>,</span>
</span><a id=__codelineno-21-9 name=__codelineno-21-9 href=#__codelineno-21-9></a><span class=hll><span class=p>)</span>
</span><a id=__codelineno-21-10 name=__codelineno-21-10 href=#__codelineno-21-10></a>
<a id=__codelineno-21-11 name=__codelineno-21-11 href=#__codelineno-21-11></a><span class=hll><span class=n>app</span> <span class=o>=</span> <span class=n>FastAgency</span><span class=p>(</span><span class=n>provider</span><span class=o>=</span><span class=n>provider</span><span class=p>,</span> <span class=n>ui</span><span class=o>=</span><span class=n>MesopUI</span><span class=p>())</span>
</span></code></pre></div> </div> </div> </div> </div> <h2 id=complete-application-code>Complete Application Code<a class=headerlink href=#complete-application-code title="Permanent link">#</a></h2> <div class="tabbed-set tabbed-alternate" data-tabs=6:4><input checked=checked id=__tabbed_6_1 name=__tabbed_6 type=radio><input id=__tabbed_6_2 name=__tabbed_6 type=radio><input id=__tabbed_6_3 name=__tabbed_6 type=radio><input id=__tabbed_6_4 name=__tabbed_6 type=radio><div class=tabbed-labels><label for=__tabbed_6_1>Console</label><label for=__tabbed_6_2>Mesop</label><label for=__tabbed_6_3>FastAPI + Mesop</label><label for=__tabbed_6_4>NATS + FastAPI + Mesop</label></div> <div class=tabbed-content> <div class=tabbed-block> <p><details> <summary>main.py</summary> <div class=highlight><pre><span></span><code><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a><span class=kn>import</span> <span class=nn>os</span>
<a id=__codelineno-22-2 name=__codelineno-22-2 href=#__codelineno-22-2></a><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Any</span>
<a id=__codelineno-22-3 name=__codelineno-22-3 href=#__codelineno-22-3></a>
<a id=__codelineno-22-4 name=__codelineno-22-4 href=#__codelineno-22-4></a><span class=kn>from</span> <span class=nn>autogen.agentchat</span> <span class=kn>import</span> <span class=n>ConversableAgent</span>
<a id=__codelineno-22-5 name=__codelineno-22-5 href=#__codelineno-22-5></a>
<a id=__codelineno-22-6 name=__codelineno-22-6 href=#__codelineno-22-6></a><span class=kn>from</span> <span class=nn>fastagency</span> <span class=kn>import</span> <span class=n>UI</span><span class=p>,</span> <span class=n>FastAgency</span>
<a id=__codelineno-22-7 name=__codelineno-22-7 href=#__codelineno-22-7></a><span class=kn>from</span> <span class=nn>fastagency.runtimes.autogen</span> <span class=kn>import</span> <span class=n>AutoGenWorkflows</span>
<a id=__codelineno-22-8 name=__codelineno-22-8 href=#__codelineno-22-8></a><span class=kn>from</span> <span class=nn>fastagency.ui.console</span> <span class=kn>import</span> <span class=n>ConsoleUI</span>
<a id=__codelineno-22-9 name=__codelineno-22-9 href=#__codelineno-22-9></a>
<a id=__codelineno-22-10 name=__codelineno-22-10 href=#__codelineno-22-10></a><span class=n>llm_config</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-22-11 name=__codelineno-22-11 href=#__codelineno-22-11></a>    <span class=s2>&quot;config_list&quot;</span><span class=p>:</span> <span class=p>[</span>
<a id=__codelineno-22-12 name=__codelineno-22-12 href=#__codelineno-22-12></a>        <span class=p>{</span>
<a id=__codelineno-22-13 name=__codelineno-22-13 href=#__codelineno-22-13></a>            <span class=s2>&quot;model&quot;</span><span class=p>:</span> <span class=s2>&quot;gpt-4o-mini&quot;</span><span class=p>,</span>
<a id=__codelineno-22-14 name=__codelineno-22-14 href=#__codelineno-22-14></a>            <span class=s2>&quot;api_key&quot;</span><span class=p>:</span> <span class=n>os</span><span class=o>.</span><span class=n>getenv</span><span class=p>(</span><span class=s2>&quot;OPENAI_API_KEY&quot;</span><span class=p>),</span>
<a id=__codelineno-22-15 name=__codelineno-22-15 href=#__codelineno-22-15></a>        <span class=p>}</span>
<a id=__codelineno-22-16 name=__codelineno-22-16 href=#__codelineno-22-16></a>    <span class=p>],</span>
<a id=__codelineno-22-17 name=__codelineno-22-17 href=#__codelineno-22-17></a>    <span class=s2>&quot;temperature&quot;</span><span class=p>:</span> <span class=mf>0.8</span><span class=p>,</span>
<a id=__codelineno-22-18 name=__codelineno-22-18 href=#__codelineno-22-18></a><span class=p>}</span>
<a id=__codelineno-22-19 name=__codelineno-22-19 href=#__codelineno-22-19></a>
<a id=__codelineno-22-20 name=__codelineno-22-20 href=#__codelineno-22-20></a><span class=n>wf</span> <span class=o>=</span> <span class=n>AutoGenWorkflows</span><span class=p>()</span>
<a id=__codelineno-22-21 name=__codelineno-22-21 href=#__codelineno-22-21></a>
<a id=__codelineno-22-22 name=__codelineno-22-22 href=#__codelineno-22-22></a>
<a id=__codelineno-22-23 name=__codelineno-22-23 href=#__codelineno-22-23></a><span class=nd>@wf</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&quot;simple_learning&quot;</span><span class=p>,</span> <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Student and teacher learning chat&quot;</span><span class=p>)</span>
<a id=__codelineno-22-24 name=__codelineno-22-24 href=#__codelineno-22-24></a><span class=k>def</span> <span class=nf>simple_workflow</span><span class=p>(</span>
<a id=__codelineno-22-25 name=__codelineno-22-25 href=#__codelineno-22-25></a>    <span class=n>ui</span><span class=p>:</span> <span class=n>UI</span><span class=p>,</span> <span class=n>params</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]</span>
<a id=__codelineno-22-26 name=__codelineno-22-26 href=#__codelineno-22-26></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<a id=__codelineno-22-27 name=__codelineno-22-27 href=#__codelineno-22-27></a>    <span class=n>initial_message</span> <span class=o>=</span> <span class=n>ui</span><span class=o>.</span><span class=n>text_input</span><span class=p>(</span>
<a id=__codelineno-22-28 name=__codelineno-22-28 href=#__codelineno-22-28></a>        <span class=n>sender</span><span class=o>=</span><span class=s2>&quot;Workflow&quot;</span><span class=p>,</span>
<a id=__codelineno-22-29 name=__codelineno-22-29 href=#__codelineno-22-29></a>        <span class=n>recipient</span><span class=o>=</span><span class=s2>&quot;User&quot;</span><span class=p>,</span>
<a id=__codelineno-22-30 name=__codelineno-22-30 href=#__codelineno-22-30></a>        <span class=n>prompt</span><span class=o>=</span><span class=s2>&quot;I can help you learn about mathematics. What subject you would like to explore?&quot;</span><span class=p>,</span>
<a id=__codelineno-22-31 name=__codelineno-22-31 href=#__codelineno-22-31></a>    <span class=p>)</span>
<a id=__codelineno-22-32 name=__codelineno-22-32 href=#__codelineno-22-32></a>
<a id=__codelineno-22-33 name=__codelineno-22-33 href=#__codelineno-22-33></a>    <span class=n>student_agent</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-22-34 name=__codelineno-22-34 href=#__codelineno-22-34></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;Student_Agent&quot;</span><span class=p>,</span>
<a id=__codelineno-22-35 name=__codelineno-22-35 href=#__codelineno-22-35></a>        <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;You are a student willing to learn.&quot;</span><span class=p>,</span>
<a id=__codelineno-22-36 name=__codelineno-22-36 href=#__codelineno-22-36></a>        <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span><span class=p>,</span>
<a id=__codelineno-22-37 name=__codelineno-22-37 href=#__codelineno-22-37></a>    <span class=p>)</span>
<a id=__codelineno-22-38 name=__codelineno-22-38 href=#__codelineno-22-38></a>    <span class=n>teacher_agent</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-22-39 name=__codelineno-22-39 href=#__codelineno-22-39></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;Teacher_Agent&quot;</span><span class=p>,</span>
<a id=__codelineno-22-40 name=__codelineno-22-40 href=#__codelineno-22-40></a>        <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;You are a math teacher.&quot;</span><span class=p>,</span>
<a id=__codelineno-22-41 name=__codelineno-22-41 href=#__codelineno-22-41></a>        <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span><span class=p>,</span>
<a id=__codelineno-22-42 name=__codelineno-22-42 href=#__codelineno-22-42></a>    <span class=p>)</span>
<a id=__codelineno-22-43 name=__codelineno-22-43 href=#__codelineno-22-43></a>
<a id=__codelineno-22-44 name=__codelineno-22-44 href=#__codelineno-22-44></a>    <span class=n>chat_result</span> <span class=o>=</span> <span class=n>student_agent</span><span class=o>.</span><span class=n>initiate_chat</span><span class=p>(</span>
<a id=__codelineno-22-45 name=__codelineno-22-45 href=#__codelineno-22-45></a>        <span class=n>teacher_agent</span><span class=p>,</span>
<a id=__codelineno-22-46 name=__codelineno-22-46 href=#__codelineno-22-46></a>        <span class=n>message</span><span class=o>=</span><span class=n>initial_message</span><span class=p>,</span>
<a id=__codelineno-22-47 name=__codelineno-22-47 href=#__codelineno-22-47></a>        <span class=n>summary_method</span><span class=o>=</span><span class=s2>&quot;reflection_with_llm&quot;</span><span class=p>,</span>
<a id=__codelineno-22-48 name=__codelineno-22-48 href=#__codelineno-22-48></a>        <span class=n>max_turns</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span>
<a id=__codelineno-22-49 name=__codelineno-22-49 href=#__codelineno-22-49></a>    <span class=p>)</span>
<a id=__codelineno-22-50 name=__codelineno-22-50 href=#__codelineno-22-50></a>
<a id=__codelineno-22-51 name=__codelineno-22-51 href=#__codelineno-22-51></a>    <span class=k>return</span> <span class=n>chat_result</span><span class=o>.</span><span class=n>summary</span>  <span class=c1># type: ignore[no-any-return]</span>
<a id=__codelineno-22-52 name=__codelineno-22-52 href=#__codelineno-22-52></a>
<a id=__codelineno-22-53 name=__codelineno-22-53 href=#__codelineno-22-53></a>
<a id=__codelineno-22-54 name=__codelineno-22-54 href=#__codelineno-22-54></a><span class=n>app</span> <span class=o>=</span> <span class=n>FastAgency</span><span class=p>(</span><span class=n>provider</span><span class=o>=</span><span class=n>wf</span><span class=p>,</span> <span class=n>ui</span><span class=o>=</span><span class=n>ConsoleUI</span><span class=p>(),</span> <span class=n>title</span><span class=o>=</span><span class=s2>&quot;Learning Chat&quot;</span><span class=p>)</span>
</code></pre></div> </details></p> </div> <div class=tabbed-block> <p><details> <summary>main.py</summary> <div class=highlight><pre><span></span><code><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a><span class=kn>import</span> <span class=nn>os</span>
<a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Any</span>
<a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a>
<a id=__codelineno-23-4 name=__codelineno-23-4 href=#__codelineno-23-4></a><span class=kn>from</span> <span class=nn>autogen.agentchat</span> <span class=kn>import</span> <span class=n>ConversableAgent</span>
<a id=__codelineno-23-5 name=__codelineno-23-5 href=#__codelineno-23-5></a>
<a id=__codelineno-23-6 name=__codelineno-23-6 href=#__codelineno-23-6></a><span class=kn>from</span> <span class=nn>fastagency</span> <span class=kn>import</span> <span class=n>UI</span><span class=p>,</span> <span class=n>FastAgency</span>
<a id=__codelineno-23-7 name=__codelineno-23-7 href=#__codelineno-23-7></a><span class=kn>from</span> <span class=nn>fastagency.runtimes.autogen</span> <span class=kn>import</span> <span class=n>AutoGenWorkflows</span>
<a id=__codelineno-23-8 name=__codelineno-23-8 href=#__codelineno-23-8></a><span class=kn>from</span> <span class=nn>fastagency.ui.mesop</span> <span class=kn>import</span> <span class=n>MesopUI</span>
<a id=__codelineno-23-9 name=__codelineno-23-9 href=#__codelineno-23-9></a>
<a id=__codelineno-23-10 name=__codelineno-23-10 href=#__codelineno-23-10></a><span class=n>llm_config</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-23-11 name=__codelineno-23-11 href=#__codelineno-23-11></a>    <span class=s2>&quot;config_list&quot;</span><span class=p>:</span> <span class=p>[</span>
<a id=__codelineno-23-12 name=__codelineno-23-12 href=#__codelineno-23-12></a>        <span class=p>{</span>
<a id=__codelineno-23-13 name=__codelineno-23-13 href=#__codelineno-23-13></a>            <span class=s2>&quot;model&quot;</span><span class=p>:</span> <span class=s2>&quot;gpt-4o-mini&quot;</span><span class=p>,</span>
<a id=__codelineno-23-14 name=__codelineno-23-14 href=#__codelineno-23-14></a>            <span class=s2>&quot;api_key&quot;</span><span class=p>:</span> <span class=n>os</span><span class=o>.</span><span class=n>getenv</span><span class=p>(</span><span class=s2>&quot;OPENAI_API_KEY&quot;</span><span class=p>),</span>
<a id=__codelineno-23-15 name=__codelineno-23-15 href=#__codelineno-23-15></a>        <span class=p>}</span>
<a id=__codelineno-23-16 name=__codelineno-23-16 href=#__codelineno-23-16></a>    <span class=p>],</span>
<a id=__codelineno-23-17 name=__codelineno-23-17 href=#__codelineno-23-17></a>    <span class=s2>&quot;temperature&quot;</span><span class=p>:</span> <span class=mf>0.8</span><span class=p>,</span>
<a id=__codelineno-23-18 name=__codelineno-23-18 href=#__codelineno-23-18></a><span class=p>}</span>
<a id=__codelineno-23-19 name=__codelineno-23-19 href=#__codelineno-23-19></a>
<a id=__codelineno-23-20 name=__codelineno-23-20 href=#__codelineno-23-20></a><span class=n>wf</span> <span class=o>=</span> <span class=n>AutoGenWorkflows</span><span class=p>()</span>
<a id=__codelineno-23-21 name=__codelineno-23-21 href=#__codelineno-23-21></a>
<a id=__codelineno-23-22 name=__codelineno-23-22 href=#__codelineno-23-22></a>
<a id=__codelineno-23-23 name=__codelineno-23-23 href=#__codelineno-23-23></a><span class=nd>@wf</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&quot;simple_learning&quot;</span><span class=p>,</span> <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Student and teacher learning chat&quot;</span><span class=p>)</span>
<a id=__codelineno-23-24 name=__codelineno-23-24 href=#__codelineno-23-24></a><span class=k>def</span> <span class=nf>simple_workflow</span><span class=p>(</span>
<a id=__codelineno-23-25 name=__codelineno-23-25 href=#__codelineno-23-25></a>    <span class=n>ui</span><span class=p>:</span> <span class=n>UI</span><span class=p>,</span> <span class=n>params</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]</span>
<a id=__codelineno-23-26 name=__codelineno-23-26 href=#__codelineno-23-26></a><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<a id=__codelineno-23-27 name=__codelineno-23-27 href=#__codelineno-23-27></a>    <span class=n>initial_message</span> <span class=o>=</span> <span class=n>ui</span><span class=o>.</span><span class=n>text_input</span><span class=p>(</span>
<a id=__codelineno-23-28 name=__codelineno-23-28 href=#__codelineno-23-28></a>        <span class=n>sender</span><span class=o>=</span><span class=s2>&quot;Workflow&quot;</span><span class=p>,</span>
<a id=__codelineno-23-29 name=__codelineno-23-29 href=#__codelineno-23-29></a>        <span class=n>recipient</span><span class=o>=</span><span class=s2>&quot;User&quot;</span><span class=p>,</span>
<a id=__codelineno-23-30 name=__codelineno-23-30 href=#__codelineno-23-30></a>        <span class=n>prompt</span><span class=o>=</span><span class=s2>&quot;I can help you learn about mathematics. What subject you would like to explore?&quot;</span><span class=p>,</span>
<a id=__codelineno-23-31 name=__codelineno-23-31 href=#__codelineno-23-31></a>    <span class=p>)</span>
<a id=__codelineno-23-32 name=__codelineno-23-32 href=#__codelineno-23-32></a>
<a id=__codelineno-23-33 name=__codelineno-23-33 href=#__codelineno-23-33></a>    <span class=n>student_agent</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-23-34 name=__codelineno-23-34 href=#__codelineno-23-34></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;Student_Agent&quot;</span><span class=p>,</span>
<a id=__codelineno-23-35 name=__codelineno-23-35 href=#__codelineno-23-35></a>        <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;You are a student willing to learn.&quot;</span><span class=p>,</span>
<a id=__codelineno-23-36 name=__codelineno-23-36 href=#__codelineno-23-36></a>        <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span><span class=p>,</span>
<a id=__codelineno-23-37 name=__codelineno-23-37 href=#__codelineno-23-37></a>    <span class=p>)</span>
<a id=__codelineno-23-38 name=__codelineno-23-38 href=#__codelineno-23-38></a>    <span class=n>teacher_agent</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-23-39 name=__codelineno-23-39 href=#__codelineno-23-39></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;Teacher_Agent&quot;</span><span class=p>,</span>
<a id=__codelineno-23-40 name=__codelineno-23-40 href=#__codelineno-23-40></a>        <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;You are a math teacher.&quot;</span><span class=p>,</span>
<a id=__codelineno-23-41 name=__codelineno-23-41 href=#__codelineno-23-41></a>        <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span><span class=p>,</span>
<a id=__codelineno-23-42 name=__codelineno-23-42 href=#__codelineno-23-42></a>    <span class=p>)</span>
<a id=__codelineno-23-43 name=__codelineno-23-43 href=#__codelineno-23-43></a>
<a id=__codelineno-23-44 name=__codelineno-23-44 href=#__codelineno-23-44></a>    <span class=n>chat_result</span> <span class=o>=</span> <span class=n>student_agent</span><span class=o>.</span><span class=n>initiate_chat</span><span class=p>(</span>
<a id=__codelineno-23-45 name=__codelineno-23-45 href=#__codelineno-23-45></a>        <span class=n>teacher_agent</span><span class=p>,</span>
<a id=__codelineno-23-46 name=__codelineno-23-46 href=#__codelineno-23-46></a>        <span class=n>message</span><span class=o>=</span><span class=n>initial_message</span><span class=p>,</span>
<a id=__codelineno-23-47 name=__codelineno-23-47 href=#__codelineno-23-47></a>        <span class=n>summary_method</span><span class=o>=</span><span class=s2>&quot;reflection_with_llm&quot;</span><span class=p>,</span>
<a id=__codelineno-23-48 name=__codelineno-23-48 href=#__codelineno-23-48></a>        <span class=n>max_turns</span><span class=o>=</span><span class=mi>5</span><span class=p>,</span>
<a id=__codelineno-23-49 name=__codelineno-23-49 href=#__codelineno-23-49></a>    <span class=p>)</span>
<a id=__codelineno-23-50 name=__codelineno-23-50 href=#__codelineno-23-50></a>
<a id=__codelineno-23-51 name=__codelineno-23-51 href=#__codelineno-23-51></a>    <span class=k>return</span> <span class=n>chat_result</span><span class=o>.</span><span class=n>summary</span>  <span class=c1># type: ignore[no-any-return]</span>
<a id=__codelineno-23-52 name=__codelineno-23-52 href=#__codelineno-23-52></a>
<a id=__codelineno-23-53 name=__codelineno-23-53 href=#__codelineno-23-53></a>
<a id=__codelineno-23-54 name=__codelineno-23-54 href=#__codelineno-23-54></a><span class=n>app</span> <span class=o>=</span> <span class=n>FastAgency</span><span class=p>(</span><span class=n>provider</span><span class=o>=</span><span class=n>wf</span><span class=p>,</span> <span class=n>ui</span><span class=o>=</span><span class=n>MesopUI</span><span class=p>(),</span> <span class=n>title</span><span class=o>=</span><span class=s2>&quot;Learning Chat&quot;</span><span class=p>)</span>
</code></pre></div> </details></p> </div> <div class=tabbed-block> <p><details> <summary>main_1_fastapi.py</summary> <div class=highlight><pre><span></span><code><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a><span class=kn>import</span> <span class=nn>os</span>
<a id=__codelineno-24-2 name=__codelineno-24-2 href=#__codelineno-24-2></a><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Any</span>
<a id=__codelineno-24-3 name=__codelineno-24-3 href=#__codelineno-24-3></a>
<a id=__codelineno-24-4 name=__codelineno-24-4 href=#__codelineno-24-4></a><span class=kn>from</span> <span class=nn>autogen.agentchat</span> <span class=kn>import</span> <span class=n>ConversableAgent</span>
<a id=__codelineno-24-5 name=__codelineno-24-5 href=#__codelineno-24-5></a><span class=kn>from</span> <span class=nn>fastapi</span> <span class=kn>import</span> <span class=n>FastAPI</span>
<a id=__codelineno-24-6 name=__codelineno-24-6 href=#__codelineno-24-6></a>
<a id=__codelineno-24-7 name=__codelineno-24-7 href=#__codelineno-24-7></a><span class=kn>from</span> <span class=nn>fastagency</span> <span class=kn>import</span> <span class=n>UI</span>
<a id=__codelineno-24-8 name=__codelineno-24-8 href=#__codelineno-24-8></a><span class=kn>from</span> <span class=nn>fastagency.adapters.fastapi</span> <span class=kn>import</span> <span class=n>FastAPIAdapter</span>
<a id=__codelineno-24-9 name=__codelineno-24-9 href=#__codelineno-24-9></a><span class=kn>from</span> <span class=nn>fastagency.runtimes.autogen</span> <span class=kn>import</span> <span class=n>AutoGenWorkflows</span>
<a id=__codelineno-24-10 name=__codelineno-24-10 href=#__codelineno-24-10></a>
<a id=__codelineno-24-11 name=__codelineno-24-11 href=#__codelineno-24-11></a><span class=n>llm_config</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-24-12 name=__codelineno-24-12 href=#__codelineno-24-12></a>    <span class=s2>&quot;config_list&quot;</span><span class=p>:</span> <span class=p>[</span>
<a id=__codelineno-24-13 name=__codelineno-24-13 href=#__codelineno-24-13></a>        <span class=p>{</span>
<a id=__codelineno-24-14 name=__codelineno-24-14 href=#__codelineno-24-14></a>            <span class=s2>&quot;model&quot;</span><span class=p>:</span> <span class=s2>&quot;gpt-4o-mini&quot;</span><span class=p>,</span>
<a id=__codelineno-24-15 name=__codelineno-24-15 href=#__codelineno-24-15></a>            <span class=s2>&quot;api_key&quot;</span><span class=p>:</span> <span class=n>os</span><span class=o>.</span><span class=n>getenv</span><span class=p>(</span><span class=s2>&quot;OPENAI_API_KEY&quot;</span><span class=p>),</span>
<a id=__codelineno-24-16 name=__codelineno-24-16 href=#__codelineno-24-16></a>        <span class=p>}</span>
<a id=__codelineno-24-17 name=__codelineno-24-17 href=#__codelineno-24-17></a>    <span class=p>],</span>
<a id=__codelineno-24-18 name=__codelineno-24-18 href=#__codelineno-24-18></a>    <span class=s2>&quot;temperature&quot;</span><span class=p>:</span> <span class=mf>0.8</span><span class=p>,</span>
<a id=__codelineno-24-19 name=__codelineno-24-19 href=#__codelineno-24-19></a><span class=p>}</span>
<a id=__codelineno-24-20 name=__codelineno-24-20 href=#__codelineno-24-20></a>
<a id=__codelineno-24-21 name=__codelineno-24-21 href=#__codelineno-24-21></a><span class=n>wf</span> <span class=o>=</span> <span class=n>AutoGenWorkflows</span><span class=p>()</span>
<a id=__codelineno-24-22 name=__codelineno-24-22 href=#__codelineno-24-22></a>
<a id=__codelineno-24-23 name=__codelineno-24-23 href=#__codelineno-24-23></a>
<a id=__codelineno-24-24 name=__codelineno-24-24 href=#__codelineno-24-24></a><span class=nd>@wf</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&quot;simple_learning&quot;</span><span class=p>,</span> <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Student and teacher learning chat&quot;</span><span class=p>)</span>
<a id=__codelineno-24-25 name=__codelineno-24-25 href=#__codelineno-24-25></a><span class=k>def</span> <span class=nf>simple_workflow</span><span class=p>(</span><span class=n>ui</span><span class=p>:</span> <span class=n>UI</span><span class=p>,</span> <span class=n>params</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<a id=__codelineno-24-26 name=__codelineno-24-26 href=#__codelineno-24-26></a>    <span class=n>initial_message</span> <span class=o>=</span> <span class=n>ui</span><span class=o>.</span><span class=n>text_input</span><span class=p>(</span>
<a id=__codelineno-24-27 name=__codelineno-24-27 href=#__codelineno-24-27></a>        <span class=n>sender</span><span class=o>=</span><span class=s2>&quot;Workflow&quot;</span><span class=p>,</span>
<a id=__codelineno-24-28 name=__codelineno-24-28 href=#__codelineno-24-28></a>        <span class=n>recipient</span><span class=o>=</span><span class=s2>&quot;User&quot;</span><span class=p>,</span>
<a id=__codelineno-24-29 name=__codelineno-24-29 href=#__codelineno-24-29></a>        <span class=n>prompt</span><span class=o>=</span><span class=s2>&quot;I can help you learn about mathematics. What subject you would like to explore?&quot;</span><span class=p>,</span>
<a id=__codelineno-24-30 name=__codelineno-24-30 href=#__codelineno-24-30></a>    <span class=p>)</span>
<a id=__codelineno-24-31 name=__codelineno-24-31 href=#__codelineno-24-31></a>
<a id=__codelineno-24-32 name=__codelineno-24-32 href=#__codelineno-24-32></a>    <span class=n>student_agent</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-24-33 name=__codelineno-24-33 href=#__codelineno-24-33></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;Student_Agent&quot;</span><span class=p>,</span>
<a id=__codelineno-24-34 name=__codelineno-24-34 href=#__codelineno-24-34></a>        <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;You are a student willing to learn.&quot;</span><span class=p>,</span>
<a id=__codelineno-24-35 name=__codelineno-24-35 href=#__codelineno-24-35></a>        <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span><span class=p>,</span>
<a id=__codelineno-24-36 name=__codelineno-24-36 href=#__codelineno-24-36></a>        <span class=c1># human_input_mode=&quot;ALWAYS&quot;,</span>
<a id=__codelineno-24-37 name=__codelineno-24-37 href=#__codelineno-24-37></a>    <span class=p>)</span>
<a id=__codelineno-24-38 name=__codelineno-24-38 href=#__codelineno-24-38></a>    <span class=n>teacher_agent</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-24-39 name=__codelineno-24-39 href=#__codelineno-24-39></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;Teacher_Agent&quot;</span><span class=p>,</span>
<a id=__codelineno-24-40 name=__codelineno-24-40 href=#__codelineno-24-40></a>        <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;You are a math teacher.&quot;</span><span class=p>,</span>
<a id=__codelineno-24-41 name=__codelineno-24-41 href=#__codelineno-24-41></a>        <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span><span class=p>,</span>
<a id=__codelineno-24-42 name=__codelineno-24-42 href=#__codelineno-24-42></a>        <span class=c1># human_input_mode=&quot;ALWAYS&quot;,</span>
<a id=__codelineno-24-43 name=__codelineno-24-43 href=#__codelineno-24-43></a>    <span class=p>)</span>
<a id=__codelineno-24-44 name=__codelineno-24-44 href=#__codelineno-24-44></a>
<a id=__codelineno-24-45 name=__codelineno-24-45 href=#__codelineno-24-45></a>    <span class=n>chat_result</span> <span class=o>=</span> <span class=n>student_agent</span><span class=o>.</span><span class=n>initiate_chat</span><span class=p>(</span>
<a id=__codelineno-24-46 name=__codelineno-24-46 href=#__codelineno-24-46></a>        <span class=n>teacher_agent</span><span class=p>,</span>
<a id=__codelineno-24-47 name=__codelineno-24-47 href=#__codelineno-24-47></a>        <span class=n>message</span><span class=o>=</span><span class=n>initial_message</span><span class=p>,</span>
<a id=__codelineno-24-48 name=__codelineno-24-48 href=#__codelineno-24-48></a>        <span class=n>summary_method</span><span class=o>=</span><span class=s2>&quot;reflection_with_llm&quot;</span><span class=p>,</span>
<a id=__codelineno-24-49 name=__codelineno-24-49 href=#__codelineno-24-49></a>        <span class=n>max_turns</span><span class=o>=</span><span class=mi>5</span><span class=p>,</span>
<a id=__codelineno-24-50 name=__codelineno-24-50 href=#__codelineno-24-50></a>    <span class=p>)</span>
<a id=__codelineno-24-51 name=__codelineno-24-51 href=#__codelineno-24-51></a>
<a id=__codelineno-24-52 name=__codelineno-24-52 href=#__codelineno-24-52></a>    <span class=k>return</span> <span class=n>chat_result</span><span class=o>.</span><span class=n>summary</span>  <span class=c1># type: ignore[no-any-return]</span>
<a id=__codelineno-24-53 name=__codelineno-24-53 href=#__codelineno-24-53></a>
<a id=__codelineno-24-54 name=__codelineno-24-54 href=#__codelineno-24-54></a>
<a id=__codelineno-24-55 name=__codelineno-24-55 href=#__codelineno-24-55></a><span class=n>adapter</span> <span class=o>=</span> <span class=n>FastAPIAdapter</span><span class=p>(</span><span class=n>provider</span><span class=o>=</span><span class=n>wf</span><span class=p>)</span>
<a id=__codelineno-24-56 name=__codelineno-24-56 href=#__codelineno-24-56></a>
<a id=__codelineno-24-57 name=__codelineno-24-57 href=#__codelineno-24-57></a><span class=n>app</span> <span class=o>=</span> <span class=n>FastAPI</span><span class=p>()</span>
<a id=__codelineno-24-58 name=__codelineno-24-58 href=#__codelineno-24-58></a><span class=n>app</span><span class=o>.</span><span class=n>include_router</span><span class=p>(</span><span class=n>adapter</span><span class=o>.</span><span class=n>router</span><span class=p>)</span>
<a id=__codelineno-24-59 name=__codelineno-24-59 href=#__codelineno-24-59></a>
<a id=__codelineno-24-60 name=__codelineno-24-60 href=#__codelineno-24-60></a>
<a id=__codelineno-24-61 name=__codelineno-24-61 href=#__codelineno-24-61></a><span class=c1># this is optional, but we would like to see the list of available workflows</span>
<a id=__codelineno-24-62 name=__codelineno-24-62 href=#__codelineno-24-62></a><span class=nd>@app</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;/&quot;</span><span class=p>)</span>
<a id=__codelineno-24-63 name=__codelineno-24-63 href=#__codelineno-24-63></a><span class=k>def</span> <span class=nf>read_root</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>str</span><span class=p>]]:</span>
<a id=__codelineno-24-64 name=__codelineno-24-64 href=#__codelineno-24-64></a>    <span class=k>return</span> <span class=p>{</span><span class=s2>&quot;Workflows&quot;</span><span class=p>:</span> <span class=p>{</span><span class=n>name</span><span class=p>:</span> <span class=n>wf</span><span class=o>.</span><span class=n>get_description</span><span class=p>(</span><span class=n>name</span><span class=p>)</span> <span class=k>for</span> <span class=n>name</span> <span class=ow>in</span> <span class=n>wf</span><span class=o>.</span><span class=n>names</span><span class=p>}}</span>
<a id=__codelineno-24-65 name=__codelineno-24-65 href=#__codelineno-24-65></a>
<a id=__codelineno-24-66 name=__codelineno-24-66 href=#__codelineno-24-66></a>
<a id=__codelineno-24-67 name=__codelineno-24-67 href=#__codelineno-24-67></a><span class=c1># start the provider with the following command</span>
<a id=__codelineno-24-68 name=__codelineno-24-68 href=#__codelineno-24-68></a><span class=c1># uvicorn main_1_fastapi:app --host 0.0.0.0 --port 8008 --reload</span>
</code></pre></div> </details></p> <p><details> <summary>main_2_mesop.py</summary> <div class=highlight><pre><span></span><code><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a><span class=kn>from</span> <span class=nn>fastagency.adapters.fastapi</span> <span class=kn>import</span> <span class=n>FastAPIAdapter</span>
<a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a><span class=kn>from</span> <span class=nn>fastagency.app</span> <span class=kn>import</span> <span class=n>FastAgency</span>
<a id=__codelineno-25-3 name=__codelineno-25-3 href=#__codelineno-25-3></a><span class=kn>from</span> <span class=nn>fastagency.ui.mesop</span> <span class=kn>import</span> <span class=n>MesopUI</span>
<a id=__codelineno-25-4 name=__codelineno-25-4 href=#__codelineno-25-4></a>
<a id=__codelineno-25-5 name=__codelineno-25-5 href=#__codelineno-25-5></a><span class=n>fastapi_url</span> <span class=o>=</span> <span class=s2>&quot;http://localhost:8008&quot;</span>
<a id=__codelineno-25-6 name=__codelineno-25-6 href=#__codelineno-25-6></a>
<a id=__codelineno-25-7 name=__codelineno-25-7 href=#__codelineno-25-7></a><span class=n>provider</span> <span class=o>=</span> <span class=n>FastAPIAdapter</span><span class=o>.</span><span class=n>create_provider</span><span class=p>(</span>
<a id=__codelineno-25-8 name=__codelineno-25-8 href=#__codelineno-25-8></a>    <span class=n>fastapi_url</span><span class=o>=</span><span class=n>fastapi_url</span><span class=p>,</span>
<a id=__codelineno-25-9 name=__codelineno-25-9 href=#__codelineno-25-9></a><span class=p>)</span>
<a id=__codelineno-25-10 name=__codelineno-25-10 href=#__codelineno-25-10></a>
<a id=__codelineno-25-11 name=__codelineno-25-11 href=#__codelineno-25-11></a><span class=n>app</span> <span class=o>=</span> <span class=n>FastAgency</span><span class=p>(</span><span class=n>provider</span><span class=o>=</span><span class=n>provider</span><span class=p>,</span> <span class=n>ui</span><span class=o>=</span><span class=n>MesopUI</span><span class=p>())</span>
<a id=__codelineno-25-12 name=__codelineno-25-12 href=#__codelineno-25-12></a>
<a id=__codelineno-25-13 name=__codelineno-25-13 href=#__codelineno-25-13></a><span class=c1># start the provider with the following command</span>
<a id=__codelineno-25-14 name=__codelineno-25-14 href=#__codelineno-25-14></a><span class=c1># gunicorn main_2_mesop:app -b 0.0.0.0:8888 --reload</span>
</code></pre></div> </details></p> </div> <div class=tabbed-block> <p><details> <summary>main_1_nats.py</summary> <div class=highlight><pre><span></span><code><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a><span class=kn>import</span> <span class=nn>os</span>
<a id=__codelineno-26-2 name=__codelineno-26-2 href=#__codelineno-26-2></a><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>Any</span>
<a id=__codelineno-26-3 name=__codelineno-26-3 href=#__codelineno-26-3></a>
<a id=__codelineno-26-4 name=__codelineno-26-4 href=#__codelineno-26-4></a><span class=kn>from</span> <span class=nn>autogen.agentchat</span> <span class=kn>import</span> <span class=n>ConversableAgent</span>
<a id=__codelineno-26-5 name=__codelineno-26-5 href=#__codelineno-26-5></a><span class=kn>from</span> <span class=nn>fastapi</span> <span class=kn>import</span> <span class=n>FastAPI</span>
<a id=__codelineno-26-6 name=__codelineno-26-6 href=#__codelineno-26-6></a>
<a id=__codelineno-26-7 name=__codelineno-26-7 href=#__codelineno-26-7></a><span class=kn>from</span> <span class=nn>fastagency</span> <span class=kn>import</span> <span class=n>UI</span>
<a id=__codelineno-26-8 name=__codelineno-26-8 href=#__codelineno-26-8></a><span class=kn>from</span> <span class=nn>fastagency.adapters.nats</span> <span class=kn>import</span> <span class=n>NatsAdapter</span>
<a id=__codelineno-26-9 name=__codelineno-26-9 href=#__codelineno-26-9></a><span class=kn>from</span> <span class=nn>fastagency.runtimes.autogen.autogen</span> <span class=kn>import</span> <span class=n>AutoGenWorkflows</span>
<a id=__codelineno-26-10 name=__codelineno-26-10 href=#__codelineno-26-10></a>
<a id=__codelineno-26-11 name=__codelineno-26-11 href=#__codelineno-26-11></a><span class=n>llm_config</span> <span class=o>=</span> <span class=p>{</span>
<a id=__codelineno-26-12 name=__codelineno-26-12 href=#__codelineno-26-12></a>    <span class=s2>&quot;config_list&quot;</span><span class=p>:</span> <span class=p>[</span>
<a id=__codelineno-26-13 name=__codelineno-26-13 href=#__codelineno-26-13></a>        <span class=p>{</span>
<a id=__codelineno-26-14 name=__codelineno-26-14 href=#__codelineno-26-14></a>            <span class=s2>&quot;model&quot;</span><span class=p>:</span> <span class=s2>&quot;gpt-4o-mini&quot;</span><span class=p>,</span>
<a id=__codelineno-26-15 name=__codelineno-26-15 href=#__codelineno-26-15></a>            <span class=s2>&quot;api_key&quot;</span><span class=p>:</span> <span class=n>os</span><span class=o>.</span><span class=n>getenv</span><span class=p>(</span><span class=s2>&quot;OPENAI_API_KEY&quot;</span><span class=p>),</span>
<a id=__codelineno-26-16 name=__codelineno-26-16 href=#__codelineno-26-16></a>        <span class=p>}</span>
<a id=__codelineno-26-17 name=__codelineno-26-17 href=#__codelineno-26-17></a>    <span class=p>],</span>
<a id=__codelineno-26-18 name=__codelineno-26-18 href=#__codelineno-26-18></a>    <span class=s2>&quot;temperature&quot;</span><span class=p>:</span> <span class=mf>0.8</span><span class=p>,</span>
<a id=__codelineno-26-19 name=__codelineno-26-19 href=#__codelineno-26-19></a><span class=p>}</span>
<a id=__codelineno-26-20 name=__codelineno-26-20 href=#__codelineno-26-20></a>
<a id=__codelineno-26-21 name=__codelineno-26-21 href=#__codelineno-26-21></a><span class=n>wf</span> <span class=o>=</span> <span class=n>AutoGenWorkflows</span><span class=p>()</span>
<a id=__codelineno-26-22 name=__codelineno-26-22 href=#__codelineno-26-22></a>
<a id=__codelineno-26-23 name=__codelineno-26-23 href=#__codelineno-26-23></a>
<a id=__codelineno-26-24 name=__codelineno-26-24 href=#__codelineno-26-24></a><span class=nd>@wf</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&quot;simple_learning&quot;</span><span class=p>,</span> <span class=n>description</span><span class=o>=</span><span class=s2>&quot;Student and teacher learning chat&quot;</span><span class=p>)</span>
<a id=__codelineno-26-25 name=__codelineno-26-25 href=#__codelineno-26-25></a><span class=k>def</span> <span class=nf>simple_workflow</span><span class=p>(</span><span class=n>ui</span><span class=p>:</span> <span class=n>UI</span><span class=p>,</span> <span class=n>params</span><span class=p>:</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=nb>str</span><span class=p>:</span>
<a id=__codelineno-26-26 name=__codelineno-26-26 href=#__codelineno-26-26></a>    <span class=n>initial_message</span> <span class=o>=</span> <span class=n>ui</span><span class=o>.</span><span class=n>text_input</span><span class=p>(</span>
<a id=__codelineno-26-27 name=__codelineno-26-27 href=#__codelineno-26-27></a>        <span class=n>sender</span><span class=o>=</span><span class=s2>&quot;Workflow&quot;</span><span class=p>,</span>
<a id=__codelineno-26-28 name=__codelineno-26-28 href=#__codelineno-26-28></a>        <span class=n>recipient</span><span class=o>=</span><span class=s2>&quot;User&quot;</span><span class=p>,</span>
<a id=__codelineno-26-29 name=__codelineno-26-29 href=#__codelineno-26-29></a>        <span class=n>prompt</span><span class=o>=</span><span class=s2>&quot;I can help you learn about mathematics. What subject you would like to explore?&quot;</span><span class=p>,</span>
<a id=__codelineno-26-30 name=__codelineno-26-30 href=#__codelineno-26-30></a>    <span class=p>)</span>
<a id=__codelineno-26-31 name=__codelineno-26-31 href=#__codelineno-26-31></a>
<a id=__codelineno-26-32 name=__codelineno-26-32 href=#__codelineno-26-32></a>    <span class=n>student_agent</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-26-33 name=__codelineno-26-33 href=#__codelineno-26-33></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;Student_Agent&quot;</span><span class=p>,</span>
<a id=__codelineno-26-34 name=__codelineno-26-34 href=#__codelineno-26-34></a>        <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;You are a student willing to learn.&quot;</span><span class=p>,</span>
<a id=__codelineno-26-35 name=__codelineno-26-35 href=#__codelineno-26-35></a>        <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span><span class=p>,</span>
<a id=__codelineno-26-36 name=__codelineno-26-36 href=#__codelineno-26-36></a>        <span class=c1># human_input_mode=&quot;ALWAYS&quot;,</span>
<a id=__codelineno-26-37 name=__codelineno-26-37 href=#__codelineno-26-37></a>    <span class=p>)</span>
<a id=__codelineno-26-38 name=__codelineno-26-38 href=#__codelineno-26-38></a>    <span class=n>teacher_agent</span> <span class=o>=</span> <span class=n>ConversableAgent</span><span class=p>(</span>
<a id=__codelineno-26-39 name=__codelineno-26-39 href=#__codelineno-26-39></a>        <span class=n>name</span><span class=o>=</span><span class=s2>&quot;Teacher_Agent&quot;</span><span class=p>,</span>
<a id=__codelineno-26-40 name=__codelineno-26-40 href=#__codelineno-26-40></a>        <span class=n>system_message</span><span class=o>=</span><span class=s2>&quot;You are a math teacher.&quot;</span><span class=p>,</span>
<a id=__codelineno-26-41 name=__codelineno-26-41 href=#__codelineno-26-41></a>        <span class=n>llm_config</span><span class=o>=</span><span class=n>llm_config</span><span class=p>,</span>
<a id=__codelineno-26-42 name=__codelineno-26-42 href=#__codelineno-26-42></a>        <span class=c1># human_input_mode=&quot;ALWAYS&quot;,</span>
<a id=__codelineno-26-43 name=__codelineno-26-43 href=#__codelineno-26-43></a>    <span class=p>)</span>
<a id=__codelineno-26-44 name=__codelineno-26-44 href=#__codelineno-26-44></a>
<a id=__codelineno-26-45 name=__codelineno-26-45 href=#__codelineno-26-45></a>    <span class=n>chat_result</span> <span class=o>=</span> <span class=n>student_agent</span><span class=o>.</span><span class=n>initiate_chat</span><span class=p>(</span>
<a id=__codelineno-26-46 name=__codelineno-26-46 href=#__codelineno-26-46></a>        <span class=n>teacher_agent</span><span class=p>,</span>
<a id=__codelineno-26-47 name=__codelineno-26-47 href=#__codelineno-26-47></a>        <span class=n>message</span><span class=o>=</span><span class=n>initial_message</span><span class=p>,</span>
<a id=__codelineno-26-48 name=__codelineno-26-48 href=#__codelineno-26-48></a>        <span class=n>summary_method</span><span class=o>=</span><span class=s2>&quot;reflection_with_llm&quot;</span><span class=p>,</span>
<a id=__codelineno-26-49 name=__codelineno-26-49 href=#__codelineno-26-49></a>        <span class=n>max_turns</span><span class=o>=</span><span class=mi>5</span><span class=p>,</span>
<a id=__codelineno-26-50 name=__codelineno-26-50 href=#__codelineno-26-50></a>    <span class=p>)</span>
<a id=__codelineno-26-51 name=__codelineno-26-51 href=#__codelineno-26-51></a>
<a id=__codelineno-26-52 name=__codelineno-26-52 href=#__codelineno-26-52></a>    <span class=k>return</span> <span class=n>chat_result</span><span class=o>.</span><span class=n>summary</span>  <span class=c1># type: ignore[no-any-return]</span>
<a id=__codelineno-26-53 name=__codelineno-26-53 href=#__codelineno-26-53></a>
<a id=__codelineno-26-54 name=__codelineno-26-54 href=#__codelineno-26-54></a>
<a id=__codelineno-26-55 name=__codelineno-26-55 href=#__codelineno-26-55></a><span class=n>nats_url</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;NATS_URL&quot;</span><span class=p>,</span> <span class=s2>&quot;nats://localhost:4222&quot;</span><span class=p>)</span>
<a id=__codelineno-26-56 name=__codelineno-26-56 href=#__codelineno-26-56></a><span class=n>user</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;fastagency&quot;</span>
<a id=__codelineno-26-57 name=__codelineno-26-57 href=#__codelineno-26-57></a><span class=n>password</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;FASTAGENCY_NATS_PASSWORD&quot;</span><span class=p>)</span>  <span class=c1># type: ignore[assignment]</span>
<a id=__codelineno-26-58 name=__codelineno-26-58 href=#__codelineno-26-58></a>
<a id=__codelineno-26-59 name=__codelineno-26-59 href=#__codelineno-26-59></a><span class=n>adapter</span> <span class=o>=</span> <span class=n>NatsAdapter</span><span class=p>(</span><span class=n>provider</span><span class=o>=</span><span class=n>wf</span><span class=p>,</span> <span class=n>nats_url</span><span class=o>=</span><span class=n>nats_url</span><span class=p>,</span> <span class=n>user</span><span class=o>=</span><span class=n>user</span><span class=p>,</span> <span class=n>password</span><span class=o>=</span><span class=n>password</span><span class=p>)</span>
<a id=__codelineno-26-60 name=__codelineno-26-60 href=#__codelineno-26-60></a>
<a id=__codelineno-26-61 name=__codelineno-26-61 href=#__codelineno-26-61></a><span class=n>app</span> <span class=o>=</span> <span class=n>FastAPI</span><span class=p>(</span><span class=n>lifespan</span><span class=o>=</span><span class=n>adapter</span><span class=o>.</span><span class=n>lifespan</span><span class=p>)</span>
<a id=__codelineno-26-62 name=__codelineno-26-62 href=#__codelineno-26-62></a>
<a id=__codelineno-26-63 name=__codelineno-26-63 href=#__codelineno-26-63></a>
<a id=__codelineno-26-64 name=__codelineno-26-64 href=#__codelineno-26-64></a><span class=c1># this is optional, but we would like to see the list of workflows</span>
<a id=__codelineno-26-65 name=__codelineno-26-65 href=#__codelineno-26-65></a><span class=nd>@app</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;/&quot;</span><span class=p>)</span>
<a id=__codelineno-26-66 name=__codelineno-26-66 href=#__codelineno-26-66></a><span class=k>def</span> <span class=nf>list_workflows</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=n>Any</span><span class=p>]:</span>
<a id=__codelineno-26-67 name=__codelineno-26-67 href=#__codelineno-26-67></a>    <span class=k>return</span> <span class=p>{</span><span class=s2>&quot;Workflows&quot;</span><span class=p>:</span> <span class=p>{</span><span class=n>name</span><span class=p>:</span> <span class=n>wf</span><span class=o>.</span><span class=n>get_description</span><span class=p>(</span><span class=n>name</span><span class=p>)</span> <span class=k>for</span> <span class=n>name</span> <span class=ow>in</span> <span class=n>wf</span><span class=o>.</span><span class=n>names</span><span class=p>}}</span>
<a id=__codelineno-26-68 name=__codelineno-26-68 href=#__codelineno-26-68></a>
<a id=__codelineno-26-69 name=__codelineno-26-69 href=#__codelineno-26-69></a>
<a id=__codelineno-26-70 name=__codelineno-26-70 href=#__codelineno-26-70></a><span class=c1># start the provider with either command</span>
<a id=__codelineno-26-71 name=__codelineno-26-71 href=#__codelineno-26-71></a><span class=c1># uvicorn main_1_nats:app --reload</span>
</code></pre></div> </details></p> <p><details> <summary>main_2_fastapi.py</summary> <div class=highlight><pre><span></span><code><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a><span class=kn>from</span> <span class=nn>os</span> <span class=kn>import</span> <span class=n>environ</span>
<a id=__codelineno-27-2 name=__codelineno-27-2 href=#__codelineno-27-2></a>
<a id=__codelineno-27-3 name=__codelineno-27-3 href=#__codelineno-27-3></a><span class=kn>from</span> <span class=nn>fastapi</span> <span class=kn>import</span> <span class=n>FastAPI</span>
<a id=__codelineno-27-4 name=__codelineno-27-4 href=#__codelineno-27-4></a>
<a id=__codelineno-27-5 name=__codelineno-27-5 href=#__codelineno-27-5></a><span class=kn>from</span> <span class=nn>fastagency.adapters.fastapi</span> <span class=kn>import</span> <span class=n>FastAPIAdapter</span>
<a id=__codelineno-27-6 name=__codelineno-27-6 href=#__codelineno-27-6></a><span class=kn>from</span> <span class=nn>fastagency.adapters.nats</span> <span class=kn>import</span> <span class=n>NatsAdapter</span>
<a id=__codelineno-27-7 name=__codelineno-27-7 href=#__codelineno-27-7></a>
<a id=__codelineno-27-8 name=__codelineno-27-8 href=#__codelineno-27-8></a><span class=n>nats_url</span> <span class=o>=</span> <span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;NATS_URL&quot;</span><span class=p>,</span> <span class=s2>&quot;nats://localhost:4222&quot;</span><span class=p>)</span>
<a id=__codelineno-27-9 name=__codelineno-27-9 href=#__codelineno-27-9></a><span class=n>nats_user</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=s2>&quot;fastagency&quot;</span>
<a id=__codelineno-27-10 name=__codelineno-27-10 href=#__codelineno-27-10></a><span class=n>nats_password</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;FASTAGENCY_NATS_PASSWORD&quot;</span><span class=p>)</span>  <span class=c1># type: ignore[assignment]</span>
<a id=__codelineno-27-11 name=__codelineno-27-11 href=#__codelineno-27-11></a>
<a id=__codelineno-27-12 name=__codelineno-27-12 href=#__codelineno-27-12></a><span class=n>provider</span> <span class=o>=</span> <span class=n>NatsAdapter</span><span class=o>.</span><span class=n>create_provider</span><span class=p>(</span>
<a id=__codelineno-27-13 name=__codelineno-27-13 href=#__codelineno-27-13></a>    <span class=n>nats_url</span><span class=o>=</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;NATS_URL&quot;</span><span class=p>,</span> <span class=kc>None</span><span class=p>),</span> <span class=n>user</span><span class=o>=</span><span class=n>nats_user</span><span class=p>,</span> <span class=n>password</span><span class=o>=</span><span class=n>nats_password</span>
<a id=__codelineno-27-14 name=__codelineno-27-14 href=#__codelineno-27-14></a><span class=p>)</span>
<a id=__codelineno-27-15 name=__codelineno-27-15 href=#__codelineno-27-15></a>
<a id=__codelineno-27-16 name=__codelineno-27-16 href=#__codelineno-27-16></a><span class=n>adapter</span> <span class=o>=</span> <span class=n>FastAPIAdapter</span><span class=p>(</span>
<a id=__codelineno-27-17 name=__codelineno-27-17 href=#__codelineno-27-17></a>    <span class=n>provider</span><span class=o>=</span><span class=n>provider</span><span class=p>,</span>
<a id=__codelineno-27-18 name=__codelineno-27-18 href=#__codelineno-27-18></a><span class=p>)</span>
<a id=__codelineno-27-19 name=__codelineno-27-19 href=#__codelineno-27-19></a>
<a id=__codelineno-27-20 name=__codelineno-27-20 href=#__codelineno-27-20></a><span class=c1># app = FastAPI(lifespan=provider.lifespan)</span>
<a id=__codelineno-27-21 name=__codelineno-27-21 href=#__codelineno-27-21></a><span class=n>app</span> <span class=o>=</span> <span class=n>FastAPI</span><span class=p>()</span>
<a id=__codelineno-27-22 name=__codelineno-27-22 href=#__codelineno-27-22></a><span class=n>app</span><span class=o>.</span><span class=n>include_router</span><span class=p>(</span><span class=n>adapter</span><span class=o>.</span><span class=n>router</span><span class=p>)</span>
<a id=__codelineno-27-23 name=__codelineno-27-23 href=#__codelineno-27-23></a>
<a id=__codelineno-27-24 name=__codelineno-27-24 href=#__codelineno-27-24></a>
<a id=__codelineno-27-25 name=__codelineno-27-25 href=#__codelineno-27-25></a><span class=c1># this is optional, but we would like to see the list of available workflows</span>
<a id=__codelineno-27-26 name=__codelineno-27-26 href=#__codelineno-27-26></a><span class=nd>@app</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s2>&quot;/&quot;</span><span class=p>)</span>
<a id=__codelineno-27-27 name=__codelineno-27-27 href=#__codelineno-27-27></a><span class=k>def</span> <span class=nf>read_root</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>dict</span><span class=p>[</span><span class=nb>str</span><span class=p>,</span> <span class=nb>str</span><span class=p>]]:</span>
<a id=__codelineno-27-28 name=__codelineno-27-28 href=#__codelineno-27-28></a>    <span class=k>return</span> <span class=p>{</span>
<a id=__codelineno-27-29 name=__codelineno-27-29 href=#__codelineno-27-29></a>        <span class=s2>&quot;Workflows&quot;</span><span class=p>:</span> <span class=p>{</span><span class=n>name</span><span class=p>:</span> <span class=n>provider</span><span class=o>.</span><span class=n>get_description</span><span class=p>(</span><span class=n>name</span><span class=p>)</span> <span class=k>for</span> <span class=n>name</span> <span class=ow>in</span> <span class=n>provider</span><span class=o>.</span><span class=n>names</span><span class=p>}</span>
<a id=__codelineno-27-30 name=__codelineno-27-30 href=#__codelineno-27-30></a>    <span class=p>}</span>
<a id=__codelineno-27-31 name=__codelineno-27-31 href=#__codelineno-27-31></a>
<a id=__codelineno-27-32 name=__codelineno-27-32 href=#__codelineno-27-32></a>
<a id=__codelineno-27-33 name=__codelineno-27-33 href=#__codelineno-27-33></a><span class=c1># start the provider with the following command</span>
<a id=__codelineno-27-34 name=__codelineno-27-34 href=#__codelineno-27-34></a><span class=c1># uvicorn main_2_fastapi:app --host 0.0.0.0 --port 8008 --reload</span>
</code></pre></div> </details></p> <p><details> <summary>main_3_mesop.py</summary> <div class=highlight><pre><span></span><code><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a><span class=kn>from</span> <span class=nn>fastagency.adapters.fastapi</span> <span class=kn>import</span> <span class=n>FastAPIAdapter</span>
<a id=__codelineno-28-2 name=__codelineno-28-2 href=#__codelineno-28-2></a><span class=kn>from</span> <span class=nn>fastagency.app</span> <span class=kn>import</span> <span class=n>FastAgency</span>
<a id=__codelineno-28-3 name=__codelineno-28-3 href=#__codelineno-28-3></a><span class=kn>from</span> <span class=nn>fastagency.ui.mesop</span> <span class=kn>import</span> <span class=n>MesopUI</span>
<a id=__codelineno-28-4 name=__codelineno-28-4 href=#__codelineno-28-4></a>
<a id=__codelineno-28-5 name=__codelineno-28-5 href=#__codelineno-28-5></a><span class=n>fastapi_url</span> <span class=o>=</span> <span class=s2>&quot;http://localhost:8008&quot;</span>
<a id=__codelineno-28-6 name=__codelineno-28-6 href=#__codelineno-28-6></a>
<a id=__codelineno-28-7 name=__codelineno-28-7 href=#__codelineno-28-7></a><span class=n>provider</span> <span class=o>=</span> <span class=n>FastAPIAdapter</span><span class=o>.</span><span class=n>create_provider</span><span class=p>(</span>
<a id=__codelineno-28-8 name=__codelineno-28-8 href=#__codelineno-28-8></a>    <span class=n>fastapi_url</span><span class=o>=</span><span class=n>fastapi_url</span><span class=p>,</span>
<a id=__codelineno-28-9 name=__codelineno-28-9 href=#__codelineno-28-9></a><span class=p>)</span>
<a id=__codelineno-28-10 name=__codelineno-28-10 href=#__codelineno-28-10></a>
<a id=__codelineno-28-11 name=__codelineno-28-11 href=#__codelineno-28-11></a><span class=n>app</span> <span class=o>=</span> <span class=n>FastAgency</span><span class=p>(</span><span class=n>provider</span><span class=o>=</span><span class=n>provider</span><span class=p>,</span> <span class=n>ui</span><span class=o>=</span><span class=n>MesopUI</span><span class=p>())</span>
<a id=__codelineno-28-12 name=__codelineno-28-12 href=#__codelineno-28-12></a>
<a id=__codelineno-28-13 name=__codelineno-28-13 href=#__codelineno-28-13></a><span class=c1># start the provider with the following command</span>
<a id=__codelineno-28-14 name=__codelineno-28-14 href=#__codelineno-28-14></a><span class=c1># gunicorn main_3_mesop:app -b 0.0.0.0:8888 --reload</span>
</code></pre></div> </details></p> </div> </div> </div> <h3 id=run-application>Run Application<a class=headerlink href=#run-application title="Permanent link">#</a></h3> <p>Once everything is set up, you can run your FastAgency application using the following command:</p> <div class="tabbed-set tabbed-alternate" data-tabs=7:4><input checked=checked id=__tabbed_7_1 name=__tabbed_7 type=radio><input id=__tabbed_7_2 name=__tabbed_7 type=radio><input id=__tabbed_7_3 name=__tabbed_7 type=radio><input id=__tabbed_7_4 name=__tabbed_7 type=radio><div class=tabbed-labels><label for=__tabbed_7_1>Console</label><label for=__tabbed_7_2>Mesop</label><label for=__tabbed_7_3>FastAPI + Mesop</label><label for=__tabbed_7_4>NATS + FastAPI + Mesop</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class="admonition note"> <p class=admonition-title>Terminal</p> <div class=highlight><pre><span></span><code><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a><span class=go>fastagency run</span>
</code></pre></div> </div> </div> <div class=tabbed-block> <div class="admonition note"> <p class=admonition-title>Terminal</p> <div class=highlight><pre><span></span><code><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a>fastagency run
</code></pre></div> </div> <p>However, the preferred way to run the Mesop application is using a Python WSGI HTTP server like <a href=https://gunicorn.org/ >Gunicorn</a>. First, you need to install it using package manager such as <code>pip</code> and then run it as follows:</p> <div class="admonition note"> <p class=admonition-title>Terminal (alternative)</p> <div class=highlight><pre><span></span><code><a id=__codelineno-31-1 name=__codelineno-31-1 href=#__codelineno-31-1></a>pip install gunicorn
<a id=__codelineno-31-2 name=__codelineno-31-2 href=#__codelineno-31-2></a>gunicorn main:app
</code></pre></div> </div> </div> <div class=tabbed-block> <p>In this setup, we need to run two command in separate terminal windows:</p> <div class="admonition note"> <p class=admonition-title>Terminal 1</p> <div class=highlight><pre><span></span><code><a id=__codelineno-32-1 name=__codelineno-32-1 href=#__codelineno-32-1></a>uvicorn main_1_fastapi:app --host 0.0.0.0 --port 8008 --reload
</code></pre></div> </div> <div class="admonition note"> <p class=admonition-title>Terminal 2</p> <div class=highlight><pre><span></span><code><a id=__codelineno-33-1 name=__codelineno-33-1 href=#__codelineno-33-1></a>gunicorn main_2_mesop:app -b 0.0.0.0:8888 --reload
</code></pre></div> </div> </div> <div class=tabbed-block> <p>In this setup, we need to run three command in separate terminal windows:</p> <div class="admonition note"> <p class=admonition-title>Terminal 1</p> <div class=highlight><pre><span></span><code><a id=__codelineno-34-1 name=__codelineno-34-1 href=#__codelineno-34-1></a>uvicorn main_1_nats:app --reload
</code></pre></div> </div> <div class="admonition note"> <p class=admonition-title>Terminal 2</p> <div class=highlight><pre><span></span><code><a id=__codelineno-35-1 name=__codelineno-35-1 href=#__codelineno-35-1></a>uvicorn main_2_fastapi:app --host 0.0.0.0 --port 8008 --reload
</code></pre></div> </div> <div class="admonition note"> <p class=admonition-title>Terminal 3</p> <div class=highlight><pre><span></span><code><a id=__codelineno-36-1 name=__codelineno-36-1 href=#__codelineno-36-1></a>gunicorn main_3_mesop:app -b 0.0.0.0:8888 --reload
</code></pre></div> </div> </div> </div> </div> <h3 id=output>Output<a class=headerlink href=#output title="Permanent link">#</a></h3> <p>The outputs will vary based on the interface, here is the output of the last terminal starting UI:</p> <div class="tabbed-set tabbed-alternate" data-tabs=8:4><input checked=checked id=__tabbed_8_1 name=__tabbed_8 type=radio><input id=__tabbed_8_2 name=__tabbed_8 type=radio><input id=__tabbed_8_3 name=__tabbed_8 type=radio><input id=__tabbed_8_4 name=__tabbed_8 type=radio><div class=tabbed-labels><label for=__tabbed_8_1>Console</label><label for=__tabbed_8_2>Mesop</label><label for=__tabbed_8_3>FastAPI + Mesop</label><label for=__tabbed_8_4>NATS + FastAPI + Mesop</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-37-1 name=__codelineno-37-1 href=#__codelineno-37-1></a><span class=go> Python module file </span>
<a id=__codelineno-37-2 name=__codelineno-37-2 href=#__codelineno-37-2></a><span class=go>                      </span>
<a id=__codelineno-37-3 name=__codelineno-37-3 href=#__codelineno-37-3></a><span class=go>   main.py          </span>
<a id=__codelineno-37-4 name=__codelineno-37-4 href=#__codelineno-37-4></a><span class=go>                      </span>
<a id=__codelineno-37-5 name=__codelineno-37-5 href=#__codelineno-37-5></a><span class=go></span>
<a id=__codelineno-37-6 name=__codelineno-37-6 href=#__codelineno-37-6></a>
<a id=__codelineno-37-7 name=__codelineno-37-7 href=#__codelineno-37-7></a>
<a id=__codelineno-37-8 name=__codelineno-37-8 href=#__codelineno-37-8></a><span class=go> Importable FastAgency app </span>
<a id=__codelineno-37-9 name=__codelineno-37-9 href=#__codelineno-37-9></a><span class=go>                             </span>
<a id=__codelineno-37-10 name=__codelineno-37-10 href=#__codelineno-37-10></a><span class=go>  from main import app       </span>
<a id=__codelineno-37-11 name=__codelineno-37-11 href=#__codelineno-37-11></a><span class=go>                             </span>
<a id=__codelineno-37-12 name=__codelineno-37-12 href=#__codelineno-37-12></a><span class=go></span>
<a id=__codelineno-37-13 name=__codelineno-37-13 href=#__codelineno-37-13></a>
<a id=__codelineno-37-14 name=__codelineno-37-14 href=#__codelineno-37-14></a><span class=go> FastAgency -&gt; user [workflow_started] </span>
<a id=__codelineno-37-15 name=__codelineno-37-15 href=#__codelineno-37-15></a><span class=go>                                                                              </span>
<a id=__codelineno-37-16 name=__codelineno-37-16 href=#__codelineno-37-16></a><span class=go> {                                                                            </span>
<a id=__codelineno-37-17 name=__codelineno-37-17 href=#__codelineno-37-17></a><span class=go>   &quot;name&quot;: &quot;simple_learning&quot;,                                                 </span>
<a id=__codelineno-37-18 name=__codelineno-37-18 href=#__codelineno-37-18></a><span class=go>   &quot;description&quot;: &quot;Student and teacher                                        </span>
<a id=__codelineno-37-19 name=__codelineno-37-19 href=#__codelineno-37-19></a><span class=go> learning chat&quot;,                                                              </span>
<a id=__codelineno-37-20 name=__codelineno-37-20 href=#__codelineno-37-20></a><span class=go>   &quot;params&quot;: {}                                                               </span>
<a id=__codelineno-37-21 name=__codelineno-37-21 href=#__codelineno-37-21></a><span class=go> }                                                                            </span>
<a id=__codelineno-37-22 name=__codelineno-37-22 href=#__codelineno-37-22></a><span class=go></span>
<a id=__codelineno-37-23 name=__codelineno-37-23 href=#__codelineno-37-23></a>
<a id=__codelineno-37-24 name=__codelineno-37-24 href=#__codelineno-37-24></a><span class=go> Workflow -&gt; User [text_input] </span>
<a id=__codelineno-37-25 name=__codelineno-37-25 href=#__codelineno-37-25></a><span class=go>                                                                              </span>
<a id=__codelineno-37-26 name=__codelineno-37-26 href=#__codelineno-37-26></a><span class=go> I can help you learn about geometry. What subject you would like to          </span>
<a id=__codelineno-37-27 name=__codelineno-37-27 href=#__codelineno-37-27></a><span class=go> explore?:                                                                    </span>
<a id=__codelineno-37-28 name=__codelineno-37-28 href=#__codelineno-37-28></a><span class=go></span>
</code></pre></div> <p>For Console applications, you will see a command-line prompt where you can enter the initial message and interact with your workflow.</p> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-38-1 name=__codelineno-38-1 href=#__codelineno-38-1></a><span class=go>[2024-10-10 13:19:18 +0530] [23635] [INFO] Starting gunicorn 23.0.0</span>
<a id=__codelineno-38-2 name=__codelineno-38-2 href=#__codelineno-38-2></a><span class=go>[2024-10-10 13:19:18 +0530] [23635] [INFO] Listening at: http://127.0.0.1:8000 (23635)</span>
<a id=__codelineno-38-3 name=__codelineno-38-3 href=#__codelineno-38-3></a><span class=go>[2024-10-10 13:19:18 +0530] [23635] [INFO] Using worker: sync</span>
<a id=__codelineno-38-4 name=__codelineno-38-4 href=#__codelineno-38-4></a><span class=go>[2024-10-10 13:19:18 +0530] [23645] [INFO] Booting worker with pid: 23645</span>
</code></pre></div> <p><a class=glightbox href=images/chat.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="Initial message" src=images/chat.png></a></p> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-39-1 name=__codelineno-39-1 href=#__codelineno-39-1></a><span class=go>[2024-10-10 13:19:18 +0530] [23635] [INFO] Starting gunicorn 23.0.0</span>
<a id=__codelineno-39-2 name=__codelineno-39-2 href=#__codelineno-39-2></a><span class=go>[2024-10-10 13:19:18 +0530] [23635] [INFO] Listening at: http://127.0.0.1:8888 (23635)</span>
<a id=__codelineno-39-3 name=__codelineno-39-3 href=#__codelineno-39-3></a><span class=go>[2024-10-10 13:19:18 +0530] [23635] [INFO] Using worker: sync</span>
<a id=__codelineno-39-4 name=__codelineno-39-4 href=#__codelineno-39-4></a><span class=go>[2024-10-10 13:19:18 +0530] [23645] [INFO] Booting worker with pid: 23645</span>
</code></pre></div> <p><a class=glightbox href=images/chat.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="Initial message" src=images/chat.png></a></p> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-40-1 name=__codelineno-40-1 href=#__codelineno-40-1></a><span class=go>[2024-10-10 13:19:18 +0530] [23635] [INFO] Starting gunicorn 23.0.0</span>
<a id=__codelineno-40-2 name=__codelineno-40-2 href=#__codelineno-40-2></a><span class=go>[2024-10-10 13:19:18 +0530] [23635] [INFO] Listening at: http://127.0.0.1:8888 (23635)</span>
<a id=__codelineno-40-3 name=__codelineno-40-3 href=#__codelineno-40-3></a><span class=go>[2024-10-10 13:19:18 +0530] [23635] [INFO] Using worker: sync</span>
<a id=__codelineno-40-4 name=__codelineno-40-4 href=#__codelineno-40-4></a><span class=go>[2024-10-10 13:19:18 +0530] [23645] [INFO] Booting worker with pid: 23645</span>
</code></pre></div> <p><a class=glightbox href=images/chat.png data-type=image data-width=auto data-height=auto data-desc-position=bottom><img alt="Initial message" src=images/chat.png></a></p> </div> </div> </div> <h2 id=future-plans>Future Plans<a class=headerlink href=#future-plans title="Permanent link">#</a></h2> <p>We are actively working on expanding FastAgencys capabilities. In addition to supporting AutoGen, we plan to integrate support for other frameworks, other network provider and other UI frameworks.</p> <hr> <h2 id=stay-in-touch>Stay in touch<a class=headerlink href=#stay-in-touch title="Permanent link">#</a></h2> <p>Please show your support and stay in touch by:</p> <ul> <li> <p>giving our <a href=https://github.com/airtai/fastagency/ target=_blank>GitHub repository</a> a star, and</p> </li> <li> <p>joining our <a href=https://discord.gg/kJjSGWrknU target=_blank>Discord server</a></p> </li> </ul> <p>Your support helps us to stay in touch with you and encourages us to continue developing and improving the framework. Thank you for your support!</p> <hr> <h2 id=contributors>Contributors<a class=headerlink href=#contributors title="Permanent link">#</a></h2> <p>Thanks to all of these amazing people who made the project better!</p> <p><a href=https://github.com/airtai/fastagency/graphs/contributors target=_blank> <a class=glightbox href="https://contrib.rocks/image?repo=airtai/fastagency" data-type=image data-width=auto data-height=auto data-desc-position=bottom><img src="https://contrib.rocks/image?repo=airtai/fastagency"></a> </a></p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class=timeago datetime=2024-10-15T10:40:43+00:00 locale=en></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-10-15</span> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../user-guide/ class="md-footer__link md-footer__link--next" aria-label="Next: Introduction to FastAgency"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Introduction to FastAgency </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> &copy; 2024 onwards <a href=https://airt.ai/ target=_blank rel=noopener>airt</a> </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://discord.gg/kJjSGWrknU target=_blank rel=noopener title=discord.gg class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91 338 338 0 0 0-14.9 30.6 447.9 447.9 0 0 0-134.426 0 310 310 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.7 483.7 0 0 0-119.688 37.107 1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375 487.7 487.7 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321 321 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251 251 0 0 0 9.109-7.137 1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233 235 235 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.4 301.4 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391 391 0 0 0 30.014 48.815 1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241"/></svg> </a> <a href=https://github.com/airtai/fastagency target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg> </a> <a href=https://x.com/FastAgencyAI target=_blank rel=noopener title=x.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg> </a> <a href=https://www.facebook.com/airt.ai.api/ target=_blank rel=noopener title=www.facebook.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256c0 120 82.7 220.8 194.2 248.5V334.2h-52.8V256h52.8v-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287v175.9C413.8 494.8 512 386.9 512 256"/></svg> </a> <a href=https://www.linkedin.com/company/airt-ai/ target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["search.suggest", "search.highlight", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.tracking", "navigation.prune", "navigation.top", "navigation.footer", "content.tabs.link", "content.code.copy", "content.code.annotate", "content.action.edit"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../assets/javascripts/bundle.525ec568.min.js></script> <script src=../js/timeago.min.js></script> <script src=../js/timeago_mkdocs_material.js></script> <script src=../javascripts/extra.js></script> <script id=init-glightbox>const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body> </html>